"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[4158],{55755:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);var n=a(70579);const r=()=>(0,n.jsx)(n.Fragment,{children:"\u20b9"})},93884:(e,s,a)=>{a.d(s,{$p:()=>t,C9:()=>r});var n=a(22019);const r=e=>{n.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},t=e=>{n.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},94234:(e,s,a)=>{a.d(s,{_:()=>n});const n=()=>100},84158:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var n=a(65043),r=a(59748),t=a(87021),l=a(89073),d=a(3e3),i=a(26029),o=a(15444),c=a(32513),u=a(60184),h=a(55755),m=a(86213),v=a(31103),x=a(93884),j=a(94234),p=a(70579);const g=()=>{var e,s;const[a,g]=(0,n.useState)(!1),[A,y]=(0,n.useState)(""),[w,I]=(0,n.useState)({}),[N,b]=(0,n.useState)([]),[k]=r.A.useForm(),P=e=>{y(e),g(!0)},f=async()=>{try{var e;const s=await m.A.get("".concat("https://www.spelleng.com/api","/users/user/").concat(null===(e=(0,v.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});I(s.data)}catch(s){console.error("Error getting user details:",s),(0,x.$p)(null===s||void 0===s?void 0:s.message)}};(0,n.useEffect)((()=>(f(),(async()=>{var e;await m.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/tutor/past/").concat(null===(e=(0,v.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?b(e.data):(0,x.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,x.$p)(null===e||void 0===e?void 0:e.message)}))})(),()=>{})),[]);const C=[{title:"Date",dataIndex:"date",key:"date"},{title:"Time",dataIndex:"time",key:"time"},{title:"For",dataIndex:"student",key:"student",render:(e,s)=>{var a;return(0,p.jsxs)("div",{children:["1 on 1 class with ",null===s||void 0===s||null===(a=s.students[0])||void 0===a?void 0:a.fullName]})}},{title:"Amount",key:"30",render:(e,s)=>(0,p.jsxs)("div",{children:[(0,p.jsx)(h.A,{}),(0,j._)()]})}];return(0,p.jsx)("div",{className:"TutorEarnings",children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("h4",{children:"Revenue Earned"}),(0,p.jsxs)("header",{children:[(0,p.jsx)(u.__w,{}),"You can get your available revenue Every Week in your preferred payment method."]}),(0,p.jsxs)("div",{className:"amountContainer",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"Withdrawals"}),(0,p.jsxs)("h4",{children:[(0,p.jsx)(h.A,{}),null===w||void 0===w||null===(e=w.withdrawals)||void 0===e?void 0:e.reduce(((e,s)=>e+(null===s||void 0===s?void 0:s.amount)),0)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"Available Income"}),(0,p.jsxs)("h4",{children:[(0,p.jsx)(h.A,{}),(null===N||void 0===N?void 0:N.length)*(0,j._)()]})]})]}),(0,p.jsxs)("div",{className:"withdrawBtns",children:[(0,p.jsx)("p",{children:"Withdraw To:"}),(0,p.jsx)(t.Ay,{onClick:()=>P("bank"),className:"btn h-auto",children:"Bank"}),(0,p.jsx)(t.Ay,{onClick:()=>P("upi"),className:"btn h-auto",children:"UPI"})]}),null===w||void 0===w||null===(s=w.paymentDetails)||void 0===s?void 0:s.map(((e,s)=>{var a;return(0,p.jsx)(l.A,{title:"".concat(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toUpperCase()," Payment Details"),className:"paymentDetailsCard mb-3",children:"bank"===(null===e||void 0===e?void 0:e.type)?(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Account Holder Name:"})," ",null===e||void 0===e?void 0:e.accountHolderName]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Account Number:"})," ",null===e||void 0===e?void 0:e.accountNumber]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"IFSC Code:"})," ",null===e||void 0===e?void 0:e.ifscCode]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Preferred:"})," ",null!==e&&void 0!==e&&e.isPreferred?"Yes":"No"]})]},s):(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"UPI ID:"})," ",null===e||void 0===e?void 0:e.upiId]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Preferred:"})," ",null!==e&&void 0!==e&&e.isPreferred?"Yes":"No"]})]})},s)})),(0,p.jsxs)("div",{className:"fullDetail mt-4",children:[(0,p.jsx)("h1",{children:"Payment history:"}),(0,p.jsx)(d.A,{pagination:!1,dataSource:N,columns:C})]}),(0,p.jsx)(i.A,{title:"Enter Payment Details",visible:a,onOk:async()=>{try{var e;const s=await k.validateFields(),a=null===(e=(0,v.wR)())||void 0===e?void 0:e._id;await m.A.put("".concat("https://www.spelleng.com/api","/users/tutors/add-payment-details"),{...s,userId:a,type:A},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{var s;200===e.status?(f(),g(!1)):(0,x.$p)(null===(s=e.data)||void 0===s?void 0:s.errorMessage)}))}catch(s){console.error("Error saving payment details:",s),(0,x.$p)(null===s||void 0===s?void 0:s.message)}},onCancel:()=>{g(!1)},children:(0,p.jsxs)(r.A,{form:k,layout:"vertical",children:["bank"===A?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.A.Item,{name:"accountHolderName",label:"Account Holder Name",rules:[{required:!0,message:"Please enter account holder name"}],children:(0,p.jsx)(o.A,{})}),(0,p.jsx)(r.A.Item,{name:"accountNumber",label:"Account Number",rules:[{required:!0,message:"Please enter account number"}],children:(0,p.jsx)(o.A,{})}),(0,p.jsx)(r.A.Item,{name:"ifscCode",label:"IFSC Code",rules:[{required:!0,message:"Please enter IFSC code"}],children:(0,p.jsx)(o.A,{})})]}):(0,p.jsx)(r.A.Item,{name:"upiId",label:"UPI ID",rules:[{required:!0,message:"Please enter UPI ID"}],children:(0,p.jsx)(o.A,{})}),(0,p.jsx)(r.A.Item,{name:"isPreferred",valuePropName:"checked",children:(0,p.jsx)(c.A,{children:"Preferred Payment Method"})})]})})]})})}}}]);
//# sourceMappingURL=4158.6938f1fb.chunk.js.map