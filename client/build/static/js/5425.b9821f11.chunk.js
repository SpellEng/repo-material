"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[5425],{55755:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var a=s(70579);const n=()=>(0,a.jsx)(a.Fragment,{children:"\u20b9"})},93884:(e,t,s)=>{s.d(t,{$p:()=>i,C9:()=>n});var a=s(22019);const n=e=>{a.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},i=e=>{a.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},76068:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(47419),n=s(11645),i=(s(65043),s(73216)),l=s(35475),d=s(31103),r=s(23658),c=s(5657),o=s(6873),h=s(67488),u=s(9493),x=s(6720),m=s(70579);const p=()=>{const e=(0,i.zy)();return(0,m.jsx)("div",{className:"AdminSidebar py-4",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"mt-8 relative",children:[(0,m.jsx)("div",{children:(0,m.jsx)(l.N_,{to:"/admin/dashboard",children:(0,m.jsxs)("button",{className:"btn ".concat("/admin/dashboard"===e.pathname?"activeLink":""),children:[(0,m.jsx)(r.A,{}),(0,m.jsx)("span",{children:"Dashboard"})]})})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.N_,{to:"/admin/students",children:(0,m.jsxs)("button",{className:"btn ".concat("/admin/students"===e.pathname?"activeLink":""),children:[(0,m.jsx)(c.A,{}),(0,m.jsx)("span",{children:"Students"})]})})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.N_,{to:"/admin/tutors",children:(0,m.jsxs)("button",{className:"btn ".concat("/admin/tutors"===e.pathname?"activeLink":""),children:[(0,m.jsx)(o.A,{}),(0,m.jsx)("span",{children:"Tutors"})]})})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.N_,{to:"/admin/classes",children:(0,m.jsxs)("button",{className:"btn ".concat("/admin/classes"===e.pathname?"activeLink":""),children:[(0,m.jsx)(h.A,{}),(0,m.jsx)("span",{children:"Classes"})]})})}),(0,m.jsx)("div",{children:(0,m.jsx)(l.N_,{to:"/admin/coupons",children:(0,m.jsxs)("button",{className:"btn ".concat("/admin/coupons"===e.pathname?"activeLink":""),children:[(0,m.jsx)(x.VXP,{}),(0,m.jsx)("span",{children:"Coupons"})]})})})]}),(0,m.jsx)("div",{children:(0,m.jsx)("a",{href:"/login",onClick:d.ri,children:(0,m.jsxs)("button",{className:"btn",children:[(0,m.jsx)(u.A,{}),(0,m.jsx)("span",{children:"Logout"})]})})})]})})},g=e=>(0,m.jsx)("div",{className:"mx-auto AdminLayout",children:e.sidebar?(0,m.jsxs)(a.A,{className:"block md:flex mt-0",children:[(0,m.jsx)(n.A,{xs:24,lg:4,className:"hidden lg:block AdminSidebar",children:(0,m.jsx)(p,{})}),(0,m.jsx)(n.A,{xs:24,lg:20,className:"px-2 AdminRightSection",children:(0,m.jsx)("div",{className:"md:p-5",children:(0,m.jsx)("div",{className:"mx-2",children:e.children})})})]}):e.children})},45425:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(60230),n=s(87021),i=s(60647),l=s(3e3),d=s(89073),r=s(54522),c=s(76399),o=s(65043),h=s(61966),u=s(99905),x=s(86213),m=s(86178),p=s.n(m),g=s(93884),j=s(76068),v=s(55755),A=s(89416),w=s(15444),y=s(70579);const N=e=>{let{id:t,updateFunction:s}=e;const[a,i]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1),[r,c]=(0,o.useState)(""),h=()=>{d(!1)};return(0,y.jsxs)("div",{children:[(0,y.jsx)(n.Ay,{type:"primary",onClick:()=>{d(!0)},children:"Add Recording"}),(0,y.jsx)(A.A,{destroyOnClose:!0,title:"Add Recording Url",footer:!1,visible:l,onCancel:h,children:(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(!0),x.A.put("".concat("https://www.spelleng.com/api","/users/save-recording/").concat(t),{recording:r},{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{i(!1),"OK"===e.statusText?((0,g.C9)(e.data.successMessage),s(),h()):(0,g.$p)(e.data.errorMessage)})).catch((e=>{i(!1),console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))},className:"text-center create-posts",children:[(0,y.jsx)("div",{className:"mt-4",children:(0,y.jsx)(w.A,{required:!0,type:"text",className:"form-control",placeholder:"Enter Recording Url",onChange:e=>c(e.target.value)})}),(0,y.jsx)("div",{style:{marginTop:"15px"},children:(0,y.jsx)(n.Ay,{type:"primary",htmlType:"submit",loading:a,disabled:a,className:"mt-4",children:"Submit"})})]})})]})},{Text:b}=a.A,S=()=>{const[e,t]=(0,o.useState)(!1),[s,a]=(0,o.useState)([]),[m,A]=(0,o.useState)(1),[w,S]=(0,o.useState)(),[k,f]=(0,o.useState)([]),[C,_]=(0,o.useState)([]),[I,T]=(0,o.useState)(null),[D,$]=(0,o.useState)([]),[E,z]=(0,o.useState)([]),M=async()=>{t(!0),await x.A.get("".concat("https://www.spelleng.com/api","/users"),{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),"OK"===e.statusText?(a(e.data),S(e.data.count)):(0,g.$p)(e.data.errorMessage)})).catch((e=>{t(!1),console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))};(0,o.useEffect)((()=>(M(),()=>{})),[]);const R=[{title:"ID",dataIndex:"_id",key:"_id",sorter:(e,t)=>(null===e||void 0===e?void 0:e._id)>(null===t||void 0===t?void 0:t._id),render:(e,t)=>{let{_id:s}=t;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{children:s})})}},{title:"Picture",dataIndex:"_picture",key:"picture",render:(e,t)=>{let{picture:s}=t;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("img",{src:null===s||void 0===s?void 0:s.url,width:"43px",height:"43px"})})}},{title:"Name",dataIndex:"fullName",key:"name",sorter:(e,t)=>{var s;return null===e||void 0===e||null===(s=e.fullName)||void 0===s?void 0:s.localeCompare(null===t||void 0===t?void 0:t.fullName)}},{title:"Email",dataIndex:"email",key:"email",sorter:(e,t)=>{var s;return null===e||void 0===e||null===(s=e.email)||void 0===s?void 0:s.localeCompare(null===t||void 0===t?void 0:t.email)}},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Headline",dataIndex:"headline",key:"headline"},{title:"Signed Up Date",dataIndex:"createdAt",key:"createdAt",sorter:(e,t)=>new Date(e.createdAt)-new Date(t.createdAt),render:(e,t)=>{let{createdAt:s}=t;return(0,y.jsx)("p",{children:p()(s).format("DD/MM/YYYY")})}},{title:"Actions",render:(e,t)=>(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[null!==t&&void 0!==t&&t.recording?(0,y.jsx)(n.Ay,{onClick:()=>(async e=>{await x.A.put("".concat("https://www.spelleng.com/api","/users/recording/delete/").concat(e),{ss:""},{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{"OK"===e.statusText?((0,g.C9)(e.data.successMessage),M()):(0,g.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))})(null===t||void 0===t?void 0:t._id),type:"danger",children:"Remove Recording"}):(0,y.jsx)(N,{id:null===t||void 0===t?void 0:t._id,updateFunction:M}),(0,y.jsx)(i.A,{title:"Delete",description:"Are you sure to delete?",onConfirm:()=>(async e=>{await x.A.delete("".concat("https://www.spelleng.com/api","/users/delete/").concat(e),{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{"OK"===e.statusText?((0,g.C9)(e.data.successMessage),M()):(0,g.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))})(null===t||void 0===t?void 0:t._id),okText:"Yes",cancelText:"No",children:(0,y.jsx)(h.A,{style:{verticalAlign:"middle"}})})]})})}];return(new Date).setHours(0,0,0,0),(0,y.jsx)(j.A,{sidebar:!0,children:(0,y.jsxs)("div",{className:"AdminPages",children:[(0,y.jsx)("div",{className:"d-md-flex justify-content-between flex-wrap align-items-start pb-5",children:(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"d-flex gap-2 justify-content-start align-items-center pb-4",children:[(0,y.jsx)("span",{children:"Admin"})," ",(0,y.jsx)(u.A,{})," ",(0,y.jsx)("div",{className:"",children:"All Students"})]}),(0,y.jsx)("h1",{className:"",children:"All Students"})]})}),(0,y.jsx)("div",{className:"d-hidden d-md-block bg-white",children:(0,y.jsx)(l.A,{rowKey:"_id",expandable:{expandedRowKeys:[I],onExpand:async(e,s)=>{e?(await(async e=>{try{const t=await x.A.get("".concat("https://www.spelleng.com/api","/subscriptions/user/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});_(t.data)}catch(t){console.error("Error fetching subscriptions:",t)}})(null===s||void 0===s?void 0:s._id),await(async e=>{await x.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/future/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),$(e.data)})).catch((e=>{t(!1),console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))})(s._id),await(async e=>{await x.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/past/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),z(e.data)})).catch((e=>{t(!1),console.log(e),(0,g.$p)(null===e||void 0===e?void 0:e.message)}))})(s._id),T(s._id)):(T(null),z([]),$([]))},expandedRowRender:e=>(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,y.jsx)(d.A,{title:"Future Classes Scheduled",children:(0,y.jsx)("h3",{children:null===D||void 0===D?void 0:D.length})}),(0,y.jsx)(d.A,{title:"Total Classes Attended",children:(0,y.jsx)("h3",{children:null===E||void 0===E?void 0:E.length})})]}),(0,y.jsx)("h2",{className:"mt-5",children:"Subscriptions Bought:"}),(0,y.jsx)(r.A,{grid:{gutter:16,column:1},dataSource:C,className:"mt-2",renderItem:e=>(0,y.jsx)(r.A.Item,{children:(0,y.jsxs)(d.A,{style:{margin:"0px auto"},title:e.plan,extra:(0,y.jsx)(c.A,{color:"expired"===e.status?"red":"green",style:{textTransform:"capitalize"},children:e.status}),children:[(0,y.jsx)(b,{strong:!0,children:"Expiry Date: "}),(0,y.jsx)(b,{children:new Date(e.expiryDate).toLocaleDateString()}),(0,y.jsx)("br",{}),(0,y.jsx)(b,{strong:!0,children:"Amount: "}),(0,y.jsxs)(b,{children:[(0,y.jsx)(v.A,{}),e.amount]})]})})})]}),rowExpandable:e=>"Not Expandable"!==e.name},loading:e,showSorterTooltip:!0,columns:R,pagination:!1,dataSource:s})})]})})}}}]);
//# sourceMappingURL=5425.b9821f11.chunk.js.map