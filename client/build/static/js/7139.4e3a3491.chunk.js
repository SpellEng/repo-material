"use strict";(self.webpackChunkspelleng=self.webpackChunkspelleng||[]).push([[7139],{93884:(e,a,t)=>{t.d(a,{$p:()=>o,C9:()=>r});var n=t(22019);const r=e=>{n.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},o=e=>{n.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},57139:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});t(65043);var n=t(31103),r=t(86213),o=t(93884),s=t(73216),l=t(70579);const i=()=>{const e=(0,s.Zp)();return(0,l.jsx)("div",{className:"BookTrial container",children:(0,l.jsxs)("div",{className:"inner",children:[(0,l.jsxs)("div",{className:"fee",children:[(0,l.jsx)("h2",{children:"Book A Trial Class @ \u20b999"}),(0,l.jsxs)("p",{children:["You get a 30-minute trial class with an expert tutor,",(0,l.jsx)("span",{children:" feedback, and recording"})]})]}),(0,l.jsxs)("div",{className:"bookBtn",children:[(0,l.jsx)("button",{onClick:async()=>{var a,t;if((0,n.wR)()&&null!==(a=(0,n.wR)())&&void 0!==a&&a.trialActivated)(0,o.$p)("Trial can be activated once. You have already activated your free trial.");else if(!(0,n.wR)()||null!==(t=(0,n.wR)())&&void 0!==t&&t.trialActivated)(0,o.$p)("Please login first to activate your trial");else{const a=await r.A.post("".concat("https://www.spelleng.com/api","/subscriptions/create-order"),{amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).catch((e=>{console.log(e)})),{id:t}=a.data,s={key:"rzp_test_V2ixbI12n2K74v",amount:9900,currency:"INR",name:"SpellEng Trial Payment",description:"Trial Payment",order_id:t,handler:async function(a){try{var t,s,l;await r.A.post("".concat("https://www.spelleng.com/api","/users/book-trial"),{user:null===(t=(0,n.wR)())||void 0===t?void 0:t._id,plan:"Trial",name:null===(s=(0,n.wR)())||void 0===s?void 0:s.fullName,email:null===(l=(0,n.wR)())||void 0===l?void 0:l.email,razorpayPaymentId:a.razorpay_payment_id,amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{var t;200===a.status?((0,o.C9)(a.data.successMessage),localStorage.setItem("user",JSON.stringify(null===(t=a.data)||void 0===t?void 0:t.user)),e("/all-tutors")):(0,o.$p)(a.data.errorMessage)}))}catch(i){console.error(i),(0,o.$p)("Failed to activate Trial")}},theme:{color:"#F37254"}};new window.Razorpay(s).open()}},children:"Book Now"}),(0,l.jsx)("p",{children:"Trial Class can be done only once in an account"})]})]})})}}}]);
//# sourceMappingURL=7139.4e3a3491.chunk.js.map