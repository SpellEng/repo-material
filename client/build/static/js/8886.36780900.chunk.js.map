{"version":3,"file":"static/js/8886.36780900.chunk.js","mappings":"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","sources":["Components/Messages/messages.js","Pages/Students/StudentDashboard/StudentDashboard.js"],"sourcesContent":["import { message } from \"antd\";\n\nexport const SuccessAlert = (messages) => {\n    message.success({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n}\nexport const ErrorAlert = (messages) => {\n    message.error({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n\n}\nexport const WarningAlert = (messages) => {\n    message.warning({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4\n    });\n}","import React, { useEffect } from \"react\";\r\nimport \"./StudentDashboard.css\";\r\nimport { Col, Row } from \"antd\";\r\nimport { GiCheckMark } from \"react-icons/gi\";\r\nimport { isAuthenticated } from \"../../../Components/Auth/auth\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { ErrorAlert } from \"../../../Components/Messages/messages\";\r\nimport { FaUser } from \"react-icons/fa\";\r\n\r\n\r\nconst StudentDashboard = () => {\r\n  const user = isAuthenticated();\r\n  const [classes, setClasses] = useState([]);\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n\r\n  const getPreviousClasses = async () => {\r\n    await axios.get(`${process.env.REACT_APP_BACKEND_URL}/scheduled-classes/student/past/${user?._id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        setClasses(res.data);\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    })\r\n  }\r\n\r\n  const fetchSubscriptions = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/subscriptions/user/${user?._id}`, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n        }\r\n      });\r\n      setSubscriptions(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching subscriptions:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkExpiry = async () => {\r\n      const now = new Date();\r\n      for (let subscription of subscriptions) {\r\n        const expiryDate = new Date(subscription.expiryDate);\r\n        if (expiryDate < now && subscription.status !== 'expired') {\r\n          try {\r\n            await axios.put(`${process.env.REACT_APP_BACKEND_URL}/subscriptions/update-status/${subscription._id}`, { status: \"expired\" }, {\r\n              headers: {\r\n                Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n              }\r\n            }).then(res => {\r\n              if (res.status === 200) {\r\n                fetchSubscriptions();\r\n              }\r\n            })\r\n          } catch (error) {\r\n            console.error('Error updating subscription status:', error);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    checkExpiry();\r\n  }, [subscriptions]);\r\n\r\n  useEffect(() => {\r\n    getPreviousClasses();\r\n    fetchSubscriptions();\r\n\r\n    return () => {\r\n\r\n    }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"StudentDashboard\">\r\n      <div className=\"container\">\r\n        <Row gutter={[23, 23]}>\r\n          <Col xs={23} md={6}>\r\n            <section className=\"firstPart\">\r\n              {\r\n                user?.picture?.url ?\r\n                  <img src={user?.picture?.url} alt=\"\" className=\"userPicture\" />\r\n                  :\r\n                  <FaUser />\r\n              }\r\n              <h3>\r\n                Welcome ack,<br />{user?.fullName}!\r\n              </h3>\r\n              <h2>Statistics</h2>\r\n              <div className=\"stats\">\r\n                <div>\r\n                  <small>\r\n                    Lessons\r\n                  </small>\r\n                  <h5>{classes?.length}</h5>\r\n                </div>\r\n                <div>\r\n                  <small>\r\n                    Minutes with tutors\r\n                  </small>\r\n                  <h5>{classes?.length * 30}</h5>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </Col>\r\n          <Col xs={24} md={18}>\r\n            <section className=\"secondSection\">\r\n              <h3>\r\n                Get access to 100%\r\n                <br /> English speaking tutors, 24/7 scheduling, and more.\r\n              </h3>\r\n              <h3>Subscribed plan</h3>\r\n              <p>\r\n                You have&nbsp;\r\n                {\r\n                  subscriptions?.slice(-1)[0]?.plan === \"1 Month Plan\" ?\r\n                    \"1 month\"\r\n                    :\r\n                    \"3 months\"\r\n                }\r\n                &nbsp;in which get 1 on 1 class with tutors and\r\n                <span> Your Plan Expire on {moment(subscriptions?.slice(-1)[0]?.expiryDate).format(\"DD MMMM\")}</span>\r\n              </p>\r\n            </section>\r\n          </Col>\r\n          <Col xs={24} md={8}>\r\n            <section className=\"howitworks\">\r\n              <h4 className=\"mb-3\">How SpellEng Works</h4>\r\n              <div>\r\n                <GiCheckMark />\r\n                <p>\r\n                  Talk live with native tutors in every lesson\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <GiCheckMark />\r\n                <p>\r\n                  Schedule lessons ahead of time, or talk when you're free, 24/7\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <GiCheckMark />\r\n                <p>\r\n                  All tutors, courses, and tools are\r\n                  included in every subscription\r\n                </p>\r\n              </div>\r\n            </section>\r\n          </Col>\r\n          <Col xs={24} md={16}>\r\n            <section className=\"studentDashboardVideo text-center\">\r\n              <iframe width=\"560\" height=\"230\" src=\"https://www.youtube.com/embed/H9uSOlEnZhc?si=axozlwnQsI1CgjLT\" title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowFullScreen></iframe>\r\n            </section>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;"],"names":["SuccessAlert","messages","message","success","className","content","duration","style","marginTop","ErrorAlert","error","StudentDashboard","_user$picture","_user$picture2","_subscriptions$slice$","_subscriptions$slice$2","user","isAuthenticated","classes","setClasses","useState","subscriptions","setSubscriptions","fetchSubscriptions","async","response","axios","get","concat","process","_id","headers","Authorization","localStorage","getItem","data","console","useEffect","now","Date","subscription","expiryDate","status","put","then","res","checkExpiry","errorMessage","catch","err","log","getPreviousClasses","_jsx","children","_jsxs","Row","gutter","Col","xs","md","picture","url","src","alt","FaUser","fullName","length","slice","plan","moment","format","GiCheckMark","width","height","title","frameBorder","allow","referrerpolicy","allowFullScreen"],"sourceRoot":""}