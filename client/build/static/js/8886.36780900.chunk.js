"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[8886],{93884:(e,s,t)=>{t.d(s,{$p:()=>r,C9:()=>n});var i=t(22019);const n=e=>{i.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},r=e=>{i.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},98886:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var i=t(65043),n=t(47419),r=t(11645),l=t(82639),a=t(31103),c=t(86213),o=t(86178),d=t.n(o),h=t(93884),u=t(60184),p=t(70579);const x=()=>{var e,s,t,o;const x=(0,a.wR)(),[m,j]=(0,i.useState)([]),[v,g]=(0,i.useState)([]),w=async()=>{try{const e=await c.A.get("".concat("https://www.spelleng.com/api","/subscriptions/user/").concat(null===x||void 0===x?void 0:x._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});g(e.data)}catch(e){console.error("Error fetching subscriptions:",e)}};return(0,i.useEffect)((()=>{(async()=>{const e=new Date;for(let t of v){if(new Date(t.expiryDate)<e&&"expired"!==t.status)try{await c.A.put("".concat("https://www.spelleng.com/api","/subscriptions/update-status/").concat(t._id),{status:"expired"},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status&&w()}))}catch(s){console.error("Error updating subscription status:",s)}}})()}),[v]),(0,i.useEffect)((()=>((async()=>{await c.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/past/").concat(null===x||void 0===x?void 0:x._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?j(e.data):(0,h.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,h.$p)(null===e||void 0===e?void 0:e.message)}))})(),w(),()=>{})),[]),(0,p.jsx)("div",{className:"StudentDashboard",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)(n.A,{gutter:[23,23],children:[(0,p.jsx)(r.A,{xs:23,md:6,children:(0,p.jsxs)("section",{className:"firstPart",children:[null!==x&&void 0!==x&&null!==(e=x.picture)&&void 0!==e&&e.url?(0,p.jsx)("img",{src:null===x||void 0===x||null===(s=x.picture)||void 0===s?void 0:s.url,alt:"",className:"userPicture"}):(0,p.jsx)(u.x$1,{}),(0,p.jsxs)("h3",{children:["Welcome ack,",(0,p.jsx)("br",{}),null===x||void 0===x?void 0:x.fullName,"!"]}),(0,p.jsx)("h2",{children:"Statistics"}),(0,p.jsxs)("div",{className:"stats",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("small",{children:"Lessons"}),(0,p.jsx)("h5",{children:null===m||void 0===m?void 0:m.length})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("small",{children:"Minutes with tutors"}),(0,p.jsx)("h5",{children:30*(null===m||void 0===m?void 0:m.length)})]})]})]})}),(0,p.jsx)(r.A,{xs:24,md:18,children:(0,p.jsxs)("section",{className:"secondSection",children:[(0,p.jsxs)("h3",{children:["Get access to 100%",(0,p.jsx)("br",{})," English speaking tutors, 24/7 scheduling, and more."]}),(0,p.jsx)("h3",{children:"Subscribed plan"}),(0,p.jsxs)("p",{children:["You have\xa0","1 Month Plan"===(null===v||void 0===v||null===(t=v.slice(-1)[0])||void 0===t?void 0:t.plan)?"1 month":"3 months","\xa0in which get 1 on 1 class with tutors and",(0,p.jsxs)("span",{children:[" Your Plan Expire on ",d()(null===v||void 0===v||null===(o=v.slice(-1)[0])||void 0===o?void 0:o.expiryDate).format("DD MMMM")]})]})]})}),(0,p.jsx)(r.A,{xs:24,md:8,children:(0,p.jsxs)("section",{className:"howitworks",children:[(0,p.jsx)("h4",{className:"mb-3",children:"How SpellEng Works"}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.q1R,{}),(0,p.jsx)("p",{children:"Talk live with native tutors in every lesson"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.q1R,{}),(0,p.jsx)("p",{children:"Schedule lessons ahead of time, or talk when you're free, 24/7"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.q1R,{}),(0,p.jsx)("p",{children:"All tutors, courses, and tools are included in every subscription"})]})]})}),(0,p.jsx)(r.A,{xs:24,md:16,children:(0,p.jsx)("section",{className:"studentDashboardVideo text-center",children:(0,p.jsx)("iframe",{width:"560",height:"230",src:"https://www.youtube.com/embed/H9uSOlEnZhc?si=axozlwnQsI1CgjLT",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})})]})})})}}}]);
//# sourceMappingURL=8886.36780900.chunk.js.map