"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[4490],{93884:(e,t,n)=>{n.d(t,{$p:()=>o,C9:()=>a});var c=n(22019);const a=e=>{c.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},o=e=>{c.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},58329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var c=n(65043),a=n(86213),o=n(54522),s=n(31103),r=n(73216),i=n(86178),l=n.n(i),d=n(93884),p=n(70579);const u=()=>{(0,r.Zp)();const[e,t]=(0,c.useState)([]),[n,i]=(0,c.useState)(!1),[u,m]=(0,c.useState)([]),[f,h]=(0,c.useState)([]),[x,g]=(0,c.useState)([]),[v,y]=(0,c.useState)([]),b=async()=>{try{var e;const n=await a.A.get("".concat("https://www.spelleng.com/api","/subscriptions/user/").concat(null===(e=(0,s.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});t(n.data)}catch(n){console.error("Error fetching subscriptions:",n)}};return(0,c.useEffect)((()=>{b(),(async()=>{var e;await a.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/future/").concat(null===(e=(0,s.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{i(!1),200===e.status?g(e.data):(0,d.$p)(e.data.errorMessage)})).catch((e=>{i(!1),console.log(e),(0,d.$p)(null===e||void 0===e?void 0:e.message)}))})(),(async()=>{var e;await a.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/past/").concat(null===(e=(0,s.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{i(!1),200===e.status?y(e.data):(0,d.$p)(e.data.errorMessage)})).catch((e=>{i(!1),console.log(e),(0,d.$p)(null===e||void 0===e?void 0:e.message)}))})(),(async()=>{var e;await a.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/student/cancelled/").concat(null===(e=(0,s.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{if(i(!1),200===e.status){var t;m(e.data);const n=l()().startOf("month").toDate(),c=l()().startOf("month").add(1,"month").toDate(),a=null===(t=e.data)||void 0===t?void 0:t.filter((e=>{const t=l()(e.date,"DD/MM/YYYY").toDate();return t>=n&&t<c}));h(a)}else(0,d.$p)(e.data.errorMessage)})).catch((e=>{i(!1),console.log(e),(0,d.$p)(null===e||void 0===e?void 0:e.message)}))})()}),[]),(0,c.useEffect)((()=>{(async()=>{const t=new Date;for(let c of e){if(new Date(c.expiryDate)<t&&"expired"!==c.status)try{await a.A.put("".concat("https://www.spelleng.com/api","/subscriptions/update-status/").concat(c._id),{status:"expired"},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status&&b()}))}catch(n){console.error("Error updating subscription status:",n)}}})()}),[e]),(0,p.jsx)("div",{className:"subscriptions-container",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsx)(o.A,{grid:{gutter:16,column:1},dataSource:e,className:"mt-5",renderItem:e=>(0,p.jsx)(o.A.Item,{children:(0,p.jsxs)("div",{className:"subscriptionsItem",children:[(0,p.jsx)("h3",{children:"Active Plan"}),(0,p.jsxs)("div",{className:"inner",children:[(0,p.jsx)("h2",{children:null===e||void 0===e?void 0:e.plan}),(0,p.jsxs)("p",{className:"mb-4",children:[(0,p.jsxs)("b",{children:[null===e||void 0===e?void 0:e.classesPerMonth," sessions"]})," per month"]}),"expired"===(null===e||void 0===e?void 0:e.status)?(0,p.jsx)("div",{className:"subsctiptionStatus expired",children:(0,p.jsxs)("p",{children:["Your subscription has been expired on ",(0,p.jsx)("b",{children:l()(e.expiryDate).format("MMMM DD, YYYY")})]})}):(0,p.jsx)("div",{className:"subsctiptionStatus",children:(0,p.jsxs)("p",{children:["Your subscription will expire on ",(0,p.jsx)("b",{children:l()(e.expiryDate).format("MMMM DD, YYYY")})]})}),(0,p.jsxs)("div",{className:"items",children:[(0,p.jsxs)("div",{className:"item",children:[(0,p.jsxs)("h5",{children:[(null===v||void 0===v?void 0:v.length)+(null===x||void 0===x?void 0:x.length),"/",null===e||void 0===e?void 0:e.classesPerMonth]}),(0,p.jsx)("p",{children:"Total sessions left"})]}),(0,p.jsxs)("div",{className:"item",children:[(0,p.jsx)("h5",{children:null===u||void 0===u?void 0:u.length}),(0,p.jsx)("p",{children:"Sessions Cancelled"})]}),(0,p.jsxs)("div",{className:"item",children:[(0,p.jsx)("h5",{children:null===f||void 0===f?void 0:f.length}),(0,p.jsx)("p",{children:"Monthly Cancelled Sessions"})]}),(0,p.jsxs)("div",{className:"item",children:[(0,p.jsx)("h5",{children:l()(e.expiryDate).format("MMMM DD, YYYY")}),(0,p.jsx)("p",{children:"Expires on"})]})]})]})]})})})})})}},12701:(e,t,n)=>{n.d(t,{Ob:()=>s,fx:()=>o,zv:()=>a});var c=n(65043);function a(e){return e&&c.isValidElement(e)&&e.type===c.Fragment}const o=(e,t,n)=>c.isValidElement(e)?c.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t;function s(e,t){return o(e,e,t)}},44320:(e,t,n)=>{n.d(t,{Ay:()=>i,ye:()=>o});var c=n(65043),a=n(691);const o=["xxl","xl","lg","md","sm","xs"],s=e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}),r=e=>{const t=e,n=[].concat(o).reverse();return n.forEach(((e,c)=>{const a=e.toUpperCase(),o="screen".concat(a,"Min"),s="screen".concat(a);if(!(t[o]<=t[s]))throw new Error("".concat(o,"<=").concat(s," fails : !(").concat(t[o],"<=").concat(t[s],")"));if(c<n.length-1){const e="screen".concat(a,"Max");if(!(t[s]<=t[e]))throw new Error("".concat(s,"<=").concat(e," fails : !(").concat(t[s],"<=").concat(t[e],")"));const o=n[c+1].toUpperCase(),r="screen".concat(o,"Min");if(!(t[e]<=t[r]))throw new Error("".concat(e,"<=").concat(r," fails : !(").concat(t[e],"<=").concat(t[r],")"))}})),e};function i(){const[,e]=(0,a.Ay)(),t=s(r(e));return c.useMemo((()=>{const e=new Map;let n=-1,c={};return{matchHandlers:{},dispatch:t=>(c=t,e.forEach((e=>e(c))),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(c),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(t).forEach((e=>{const n=t[e],c=this.matchHandlers[n];null===c||void 0===c||c.mql.removeListener(null===c||void 0===c?void 0:c.listener)})),e.clear()},register(){Object.keys(t).forEach((e=>{const n=t[e],a=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},c),{[e]:n}))},o=window.matchMedia(n);o.addListener(a),this.matchHandlers[n]={mql:o,listener:a},a(o)}))},responsiveMap:t}}),[e])}},95150:(e,t,n)=>{n.d(t,{A:()=>c});const c=(0,n(65043).createContext)({})},30227:(e,t,n)=>{n.d(t,{A:()=>u});var c=n(65043),a=n(98139),o=n.n(a),s=n(35296),r=n(95150),i=n(56055),l=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(e);a<c.length;a++)t.indexOf(c[a])<0&&Object.prototype.propertyIsEnumerable.call(e,c[a])&&(n[c[a]]=e[c[a]])}return n};function d(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}const p=["xs","sm","md","lg","xl","xxl"];const u=c.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:a}=c.useContext(s.QO),{gutter:u,wrap:m}=c.useContext(r.A),{prefixCls:f,span:h,order:x,offset:g,push:v,pull:y,className:b,children:w,flex:j,style:O}=e,S=l(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=n("col",f),[M,A,E]=(0,i.xV)(C),I={};let N={};p.forEach((t=>{let n={};const c=e[t];"number"===typeof c?n.span=c:"object"===typeof c&&(n=c||{}),delete S[t],N=Object.assign(Object.assign({},N),{["".concat(C,"-").concat(t,"-").concat(n.span)]:void 0!==n.span,["".concat(C,"-").concat(t,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(C,"-").concat(t,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(C,"-").concat(t,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(C,"-").concat(t,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(C,"-rtl")]:"rtl"===a}),n.flex&&(N["".concat(C,"-").concat(t,"-flex")]=!0,I["--".concat(C,"-").concat(t,"-flex")]=d(n.flex))}));const D=o()(C,{["".concat(C,"-").concat(h)]:void 0!==h,["".concat(C,"-order-").concat(x)]:x,["".concat(C,"-offset-").concat(g)]:g,["".concat(C,"-push-").concat(v)]:v,["".concat(C,"-pull-").concat(y)]:y},b,N,A,E),z={};if(u&&u[0]>0){const e=u[0]/2;z.paddingLeft=e,z.paddingRight=e}return j&&(z.flex=d(j),!1!==m||z.minWidth||(z.minWidth=0)),M(c.createElement("div",Object.assign({},S,{style:Object.assign(Object.assign(Object.assign({},z),O),I),className:D,ref:t}),w))}))},28821:(e,t,n)=>{n.d(t,{A:()=>u});var c=n(65043),a=n(98139),o=n.n(a),s=n(44320),r=n(35296),i=n(95150),l=n(56055),d=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(e);a<c.length;a++)t.indexOf(c[a])<0&&Object.prototype.propertyIsEnumerable.call(e,c[a])&&(n[c[a]]=e[c[a]])}return n};function p(e,t){const[n,a]=c.useState("string"===typeof e?e:"");return c.useEffect((()=>{(()=>{if("string"===typeof e&&a(e),"object"===typeof e)for(let n=0;n<s.ye.length;n++){const c=s.ye[n];if(!t[c])continue;const o=e[c];if(void 0!==o)return void a(o)}})()}),[JSON.stringify(e),t]),n}const u=c.forwardRef(((e,t)=>{const{prefixCls:n,justify:a,align:u,className:m,style:f,children:h,gutter:x=0,wrap:g}=e,v=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:b}=c.useContext(r.QO),[w,j]=c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[O,S]=c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),C=p(u,O),M=p(a,O),A=c.useRef(x),E=(0,s.Ay)();c.useEffect((()=>{const e=E.subscribe((e=>{S(e);const t=A.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&j(e)}));return()=>E.unsubscribe(e)}),[]);const I=y("row",n),[N,D,z]=(0,l.L3)(I),k=(()=>{const e=[void 0,void 0];return(Array.isArray(x)?x:[x,void 0]).forEach(((t,n)=>{if("object"===typeof t)for(let c=0;c<s.ye.length;c++){const a=s.ye[c];if(w[a]&&void 0!==t[a]){e[n]=t[a];break}}else e[n]=t})),e})(),G=o()(I,{["".concat(I,"-no-wrap")]:!1===g,["".concat(I,"-").concat(M)]:M,["".concat(I,"-").concat(C)]:C,["".concat(I,"-rtl")]:"rtl"===b},m,D,z),L={},P=null!=k[0]&&k[0]>0?k[0]/-2:void 0;P&&(L.marginLeft=P,L.marginRight=P);const[Y,R]=k;L.rowGap=R;const F=c.useMemo((()=>({gutter:[Y,R],wrap:g})),[Y,R,g]);return N(c.createElement(i.A.Provider,{value:F},c.createElement("div",Object.assign({},v,{className:G,style:Object.assign(Object.assign({},L),f),ref:t}),h)))}))},56055:(e,t,n)=>{n.d(t,{L3:()=>i,xV:()=>l});var c=n(36647),a=n(51020),o=n(78365);const s=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},r=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:c,gridColumns:a}=e,o={};for(let s=a;s>=0;s--)0===s?(o["".concat(c).concat(t,"-").concat(s)]={display:"none"},o["".concat(c,"-push-").concat(s)]={insetInlineStart:"auto"},o["".concat(c,"-pull-").concat(s)]={insetInlineEnd:"auto"},o["".concat(c).concat(t,"-push-").concat(s)]={insetInlineStart:"auto"},o["".concat(c).concat(t,"-pull-").concat(s)]={insetInlineEnd:"auto"},o["".concat(c).concat(t,"-offset-").concat(s)]={marginInlineStart:0},o["".concat(c).concat(t,"-order-").concat(s)]={order:0}):(o["".concat(c).concat(t,"-").concat(s)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(s/a*100,"%"),maxWidth:"".concat(s/a*100,"%")}],o["".concat(c).concat(t,"-push-").concat(s)]={insetInlineStart:"".concat(s/a*100,"%")},o["".concat(c).concat(t,"-pull-").concat(s)]={insetInlineEnd:"".concat(s/a*100,"%")},o["".concat(c).concat(t,"-offset-").concat(s)]={marginInlineStart:"".concat(s/a*100,"%")},o["".concat(c).concat(t,"-order-").concat(s)]={order:s});return o["".concat(c).concat(t,"-flex")]={flex:"var(--".concat(n).concat(t,"-flex)")},o})(e,t),i=(0,a.OF)("Grid",(e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}}),(()=>({}))),l=(0,a.OF)("Grid",(e=>{const t=(0,o.h1)(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[s(t),r(t,""),r(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({["@media (min-width: ".concat((0,c.unit)(t),")")]:Object.assign({},r(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}),(()=>({})))},45132:(e,t,n)=>{n.d(t,{Ay:()=>h,K6:()=>m,RQ:()=>u});var c=n(65043),a=n(98139),o=n.n(a),s=n(62149),r=n(35296),i=n(89122),l=n(78309),d=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(e);a<c.length;a++)t.indexOf(c[a])<0&&Object.prototype.propertyIsEnumerable.call(e,c[a])&&(n[c[a]]=e[c[a]])}return n};const p=c.createContext(null),u=(e,t)=>{const n=c.useContext(p),a=c.useMemo((()=>{if(!n)return"";const{compactDirection:c,isFirstItem:a,isLastItem:s}=n,r="vertical"===c?"-vertical-":"-";return o()("".concat(e,"-compact").concat(r,"item"),{["".concat(e,"-compact").concat(r,"first-item")]:a,["".concat(e,"-compact").concat(r,"last-item")]:s,["".concat(e,"-compact").concat(r,"item-rtl")]:"rtl"===t})}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:a}},m=e=>{let{children:t}=e;return c.createElement(p.Provider,{value:null},t)},f=e=>{var{children:t}=e,n=d(e,["children"]);return c.createElement(p.Provider,{value:n},t)},h=e=>{const{getPrefixCls:t,direction:n}=c.useContext(r.QO),{size:a,direction:u,block:m,prefixCls:h,className:x,rootClassName:g,children:v}=e,y=d(e,["size","direction","block","prefixCls","className","rootClassName","children"]),b=(0,i.A)((e=>null!==a&&void 0!==a?a:e)),w=t("space-compact",h),[j,O]=(0,l.A)(w),S=o()(w,O,{["".concat(w,"-rtl")]:"rtl"===n,["".concat(w,"-block")]:m,["".concat(w,"-vertical")]:"vertical"===u},x,g),C=c.useContext(p),M=(0,s.A)(v),A=c.useMemo((()=>M.map(((e,t)=>{const n=e&&e.key||"".concat(w,"-item-").concat(t);return c.createElement(f,{key:n,compactSize:b,compactDirection:u,isFirstItem:0===t&&(!C||(null===C||void 0===C?void 0:C.isFirstItem)),isLastItem:t===M.length-1&&(!C||(null===C||void 0===C?void 0:C.isLastItem))},e)}))),[a,M,C]);return 0===M.length?null:j(c.createElement("div",Object.assign({className:S},y),A))}},78309:(e,t,n)=>{n.d(t,{A:()=>i});var c=n(51020),a=n(78365);const o=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},s=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(t,"-item:empty")]:{display:"none"},["".concat(t,"-item > ").concat(n,"-badge-not-a-wrapper:only-child")]:{display:"block"}}}},r=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},i=(0,c.OF)("Space",(e=>{const t=(0,a.h1)(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[s(t),r(t),o(t)]}),(()=>({})),{resetStyle:!1})}}]);
//# sourceMappingURL=4490.9277baa0.chunk.js.map