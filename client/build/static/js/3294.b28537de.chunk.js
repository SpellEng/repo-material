"use strict";(self.webpackChunkspelleng=self.webpackChunkspelleng||[]).push([[3294],{93884:(e,t,s)=>{s.d(t,{$p:()=>c,C9:()=>a});var n=s(22019);const a=e=>{n.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},c=e=>{n.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},84422:(e,t,s)=>{s.d(t,{A:()=>E});var n=s(65043),a=s(89073),c=s(98139),l=s.n(c),r=s(18574),o=s(15315),i=s(35296),d=s(51020),u=s(78365);const p=["wrap","nowrap","wrap-reverse"],m=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],g=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const h=function(e,t){return l()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const s=!0===t.wrap?"wrap":t.wrap;return{["".concat(e,"-wrap-").concat(s)]:s&&p.includes(s)}})(e,t)),((e,t)=>{const s={};return g.forEach((n=>{s["".concat(e,"-align-").concat(n)]=t.align===n})),s["".concat(e,"-align-stretch")]=!t.align&&!!t.vertical,s})(e,t)),((e,t)=>{const s={};return m.forEach((n=>{s["".concat(e,"-justify-").concat(n)]=t.justify===n})),s})(e,t)))},v=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},x=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},f=e=>{const{componentCls:t}=e,s={};return p.forEach((e=>{s["".concat(t,"-wrap-").concat(e)]={flexWrap:e}})),s},y=e=>{const{componentCls:t}=e,s={};return g.forEach((e=>{s["".concat(t,"-align-").concat(e)]={alignItems:e}})),s},j=e=>{const{componentCls:t}=e,s={};return m.forEach((e=>{s["".concat(t,"-justify-").concat(e)]={justifyContent:e}})),s},w=(0,d.OF)("Flex",(e=>{const{paddingXS:t,padding:s,paddingLG:n}=e,a=(0,u.h1)(e,{flexGapSM:t,flexGap:s,flexGapLG:n});return[v(a),x(a),f(a),y(a),j(a)]}),(()=>({})),{resetStyle:!1});var b=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};const A=n.forwardRef(((e,t)=>{const{prefixCls:s,rootClassName:a,className:c,style:d,flex:u,gap:p,children:m,vertical:g=!1,component:v="div"}=e,x=b(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:f,direction:y,getPrefixCls:j}=n.useContext(i.QO),A=j("flex",s),[C,N,O]=w(A),S=null!==g&&void 0!==g?g:null===f||void 0===f?void 0:f.vertical,k=l()(c,a,null===f||void 0===f?void 0:f.className,A,N,O,h(A,e),{["".concat(A,"-rtl")]:"rtl"===y,["".concat(A,"-gap-").concat(p)]:(0,o.X)(p),["".concat(A,"-vertical")]:S}),M=Object.assign(Object.assign({},null===f||void 0===f?void 0:f.style),d);return u&&(M.flex=u),p&&!(0,o.X)(p)&&(M.gap=p),C(n.createElement(v,Object.assign({ref:t,className:k,style:M},(0,r.A)(x,["justify","wrap","align"])),m))}));const C=A;var N=s(2761),O=s(87021),S=s(89698),k=s(86178),M=s.n(k),G=s(73216),$=s(70579);const E=e=>{var t;let{meetingUrl:s,type:n,removeScheduledClass:c,isTutor:l,id:r,studentId:o,tutor:i,date:d,time:u,isUpcoming:p,tutorLayout:m,recording:g}=e;const h=(0,G.Zp)(),v=()=>{const e=M()(),t=M()("".concat(d," ").concat(u.split(" - ")[0]),"DD/MM/YYYY h:mm a"),s=M()("".concat(d," ").concat(u.split(" - ")[1]),"DD/MM/YYYY h:mm a");return e.isBetween(t,s,null,"[)")};return(0,$.jsxs)(a.A,{className:"SessionCard",children:[(0,$.jsxs)("div",{className:"sessionHeader",children:[(0,$.jsxs)(C,{gap:"10px",align:"center",children:[(0,$.jsx)(N.A,{size:48,icon:(0,$.jsx)("img",{src:null===i||void 0===i||null===(t=i.picture)||void 0===t?void 0:t.url})}),(0,$.jsxs)("span",{className:"name",children:[n,": ",(0,$.jsx)("b",{children:null===i||void 0===i?void 0:i.fullName})]})]}),!p&&l&&(0,$.jsxs)("button",{className:"btn p-0",onClick:()=>h("/chats?receiver=".concat(o)),children:[(0,$.jsx)(S.Oz0,{}),(0,$.jsx)("br",{}),(0,$.jsx)("small",{children:"Message Me"})]})]}),(0,$.jsxs)(C,{justify:"space-between",className:"my-2",align:"center",children:[(0,$.jsxs)("div",{className:"text-start",children:[(0,$.jsx)("small",{children:"Date:"}),(0,$.jsx)("h6",{children:d})]}),(0,$.jsxs)("div",{className:"text-end",children:[(0,$.jsx)("small",{children:"Time:"}),(0,$.jsx)("h6",{children:u})]})]}),(0,$.jsx)(C,{gap:"19px",justify:"space-between",align:"center",className:"sessionActions mt-3",children:p?(0,$.jsxs)("div",{className:"w-100",children:[(0,$.jsxs)(C,{className:"sessionBtns",gap:"10px",justify:"space-between",align:"center",children:[(0,$.jsx)(O.Ay,{type:"primary",disabled:v(),danger:!0,onClick:()=>c(r,d,u),children:"Cancel"}),(0,$.jsx)(O.Ay,{type:"primary",disabled:!v(),onClick:()=>{return e=s,void window.open(e,"_blank","noopener,noreferrer");var e},children:"Join"})]}),(0,$.jsx)("p",{children:"Only 3 classes can be cancelled every month 2 hours before the class"})]}):null})]})}},43025:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var n=s(65043),a=s(47419),c=s(11645),l=s(18489),r=s(84422),o=s(86213),i=s(93884),d=s(31103),u=s(70579);const p=()=>{const[e,t]=(0,n.useState)(!1),[s,p]=(0,n.useState)([]),[m,g]=(0,n.useState)([]),h=async()=>{var e;await o.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/tutor/future/").concat(null===(e=(0,d.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),200===e.status?p(e.data):(0,i.$p)(e.data.errorMessage)})).catch((e=>{t(!1),console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))},v=async(e,t,s)=>{await o.A.delete("".concat("https://www.spelleng.com/api","/scheduled-classes/delete/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?((0,i.C9)(e.data.successMessage),h(),(async(e,t)=>{await o.A.put("".concat("https://www.spelleng.com/api","/users/tutors/remove/time-slot"),{date:t,time:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?(0,i.C9)(e.data.successMessage):(0,i.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))})(t,s)):(0,i.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))};(0,n.useEffect)((()=>(h(),()=>{})),[]);const x=[{key:"1",label:"Upcoming Classes",children:(0,u.jsx)(a.A,{gutter:[23,23],children:null===s||void 0===s?void 0:s.map(((e,t)=>(0,u.jsx)(c.A,{xs:24,md:12,lg:8,children:(0,u.jsx)(r.A,{id:null===e||void 0===e?void 0:e._id,tutor:e.students[0],date:e.date,time:e.time,isUpcoming:!0,meetingUrl:null===e||void 0===e?void 0:e.meetingUrl,type:"Student",removeScheduledClass:v},t)})))})},{key:"2",label:"Previous Classes",children:(0,u.jsx)(a.A,{gutter:[23,23],children:null===m||void 0===m?void 0:m.map(((e,t)=>{var s;return(0,u.jsx)(c.A,{xs:24,md:12,lg:8,children:(0,u.jsx)(r.A,{id:null===e||void 0===e?void 0:e._id,tutor:e.students[0],date:e.date,time:e.time,isUpcoming:!1,isTutor:!0,type:"Student",studentId:null===e||void 0===e||null===(s=e.students[0])||void 0===s?void 0:s._id},t)})}))})}];return(0,u.jsx)("div",{className:"UpcomingTutor",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(l.A,{defaultActiveKey:"1",onChange:e=>"1"===e?h():"2"===e&&(async()=>{var e;await o.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/tutor/past/").concat(null===(e=(0,d.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),200===e.status?g(e.data):(0,i.$p)(e.data.errorMessage)})).catch((e=>{t(!1),console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))})(),items:x})})})}},15315:(e,t,s)=>{function n(e){return["small","middle","large"].includes(e)}function a(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}s.d(t,{X:()=>n,m:()=>a})},44210:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(65043);function a(){const[,e]=n.useReducer((e=>e+1),0);return e}},99598:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(65043),a=s(52664),c=s(44210),l=s(44320);const r=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,n.useRef)({}),s=(0,c.A)(),r=(0,l.Ay)();return(0,a.A)((()=>{const n=r.subscribe((n=>{t.current=n,e&&s()}));return()=>r.unsubscribe(n)}),[]),t.current}}}]);
//# sourceMappingURL=3294.b28537de.chunk.js.map