"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[1851],{33581:(e,a,s)=>{s.d(a,{r:()=>i});var t=s(87021),r=s(65043),l=s(7082),n=s(70579);const i=e=>{let{sendOtp:a}=e;const[s,i]=(0,r.useState)(!1);let o=(new Date).setSeconds((new Date).getSeconds()+120);const{seconds:c,minutes:d,restart:m}=(0,l.useTimer)({autoStart:!0,expiryTimestamp:o,onExpire:()=>i(!0)});return(0,n.jsx)("div",{style:{textAlign:"center"},children:s?(0,n.jsx)(t.Ay,{style:{width:"130px"},type:"primary",onClick:async()=>{i(!1),await a(),m(o)},children:"Resend OTP"}):(0,n.jsxs)("span",{children:[d,":",c]})})}},93884:(e,a,s)=>{s.d(a,{$p:()=>l,C9:()=>r});var t=s(22019);const r=e=>{t.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},l=e=>{t.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},85761:(e,a,s)=>{s.d(a,{d:()=>t});const t=()=>Intl.DateTimeFormat().resolvedOptions().timeZone},11851:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var t=s(65043),r=s(73216),l=s(35475),n=s(235),i=s(47419),o=s(11645),c=s(89593),d=s(40426),m=s(15444),p=s(32513),u=s(87021),h=s(8354),x=s(86147),v=s(50216),g=s(45796),j=s(86213),y=s(93884),N=s(31103),w=s(33581),b=s(85761),A=s(70579);const f=()=>{const e=(0,r.Zp)(),[a,s]=(0,t.useState)(!1),[f,S]=(0,t.useState)(""),[k,_]=(0,t.useState)(""),[T,P]=(0,t.useState)(!1),[C,I]=(0,t.useState)({fullName:"",email:"",password:"",city:"",phoneNumber:"",termsAccepted:!1,orderId:""}),{fullName:R,city:E,phoneNumber:O,email:$,password:F}=C,B=(e,a)=>{I({...C,[e]:a})},M=async()=>{O?(s(!0),await j.A.post("".concat("https://www.spelleng.com/api","/users/send-otp"),{phoneNumber:O}).then((e=>{s(!1),200===e.status?(P(!0),B("orderId",e.data.orderId),(0,y.C9)(e.data.successMessage)):(0,y.$p)(e.data.errorMessage)})).catch((e=>{var a,t;s(!1),console.log(e),(0,y.$p)((null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.errorMessage)||(null===e||void 0===e?void 0:e.message))}))):_("Please enter your phone number.")};return(0,A.jsx)("div",{className:"registration",children:(0,A.jsx)("div",{className:"container",children:(0,A.jsxs)(i.A,{gutter:[19,19],children:[(0,A.jsx)(o.A,{xs:24,md:13,className:"leftRegistration mt-3",children:(0,A.jsxs)("div",{children:[(0,A.jsx)("img",{src:g,alt:""}),(0,A.jsx)("div",{className:"bgOpacity"}),(0,A.jsxs)("div",{className:"caption",children:[(0,A.jsx)("h3",{children:'"Learning English is crucial for career advancement and higher income potential. It opens global job opportunities, improves communication skills, and increases access to valuable educational resources."'}),(0,A.jsxs)("div",{className:"nameAndReviews",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("h2",{children:"Parvej Khan"}),(0,A.jsx)("span",{children:"Founder, SpellEng"})]}),(0,A.jsx)(c.A,{value:4.5,allowHalf:!0,disabled:!0})]})]})]})}),(0,A.jsxs)(o.A,{xs:24,md:11,className:"rightRegistration",children:[(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3 mb-2",children:[(0,A.jsx)(l.N_,{to:"/",children:(0,A.jsx)("img",{className:"logo",src:n,alt:""})}),(0,A.jsx)("h2",{children:"Let's Go: Book a Trial!"})]}),(0,A.jsx)("div",{className:"text-center",children:(0,A.jsx)("p",{children:"Take the first step with an affordable trial session for just @ \u20b999"})}),(0,A.jsxs)("form",{className:"form",onSubmit:async a=>{a.preventDefault(),F?(s(!0),f?(C.otp=f,C.timezone=(0,b.d)(),await j.A.post("".concat("https://www.spelleng.com/api","/users/signup"),C).then((a=>{var t,r;(s(!1),200===a.status)?((0,N.BV)(null===(t=a.data)||void 0===t?void 0:t.user,null===(r=a.data)||void 0===r?void 0:r.token),(0,y.C9)(a.data.successMessage),(async()=>{var a,t;if((0,N.wR)()&&null!==(a=(0,N.wR)())&&void 0!==a&&a.trialActivated)(0,y.$p)("Trial can be activated once. You have already activated your free trial.");else if(!(0,N.wR)()||null!==(t=(0,N.wR)())&&void 0!==t&&t.trialActivated)(0,y.$p)("Please login first to activate your trial");else{s(!0);const a=await j.A.post("".concat("https://www.spelleng.com/api","/subscriptions/create-order"),{amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).catch((e=>{s(!1),console.log(e)})),{id:t}=a.data,r={key:"rzp_test_V2ixbI12n2K74v",amount:9900,currency:"INR",name:"SpellENg Trial Payment @ \u20b999",description:"Trial Payment",order_id:t,handler:async function(a){try{var t,r,l;await j.A.post("".concat("https://www.spelleng.com/api","/users/book-trial"),{user:null===(t=(0,N.wR)())||void 0===t?void 0:t._id,plan:"Trial",name:null===(r=(0,N.wR)())||void 0===r?void 0:r.fullName,email:null===(l=(0,N.wR)())||void 0===l?void 0:l.email,razorpayPaymentId:a.razorpay_payment_id,amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{var t;s(!1),200===a.status?((0,y.C9)(a.data.successMessage),localStorage.setItem("user",JSON.stringify(null===(t=a.data)||void 0===t?void 0:t.user)),e("/all-tutors")):(0,y.$p)(a.data.errorMessage)}))}catch(n){s(!1),console.error(n),(0,y.$p)("Failed to activate Trial")}},theme:{color:"#F37254"}};new window.Razorpay(r).open()}})()):(0,y.$p)(a.data.errorMessage)})).catch((e=>{var a,t;s(!1),console.log(e),(0,y.$p)((null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.errorMessage)||(null===e||void 0===e?void 0:e.message))}))):(0,y.$p)("Please verify your OTP first to continue")):_("All fields are required")},children:[k&&(0,A.jsx)(d.A,{type:"error",children:k}),(0,A.jsxs)(i.A,{gutter:[19,19],children:[(0,A.jsx)(o.A,{xs:24,md:12,className:"leftinput",children:(0,A.jsxs)("div",{className:"item",children:[(0,A.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),(0,A.jsx)(m.A,{required:!0,type:"text",placeholder:"Enter your name",value:C.fullName,onChange:e=>B("fullName",e.target.value)})]})}),(0,A.jsx)(o.A,{xs:24,md:12,children:(0,A.jsxs)("div",{className:"item",children:[(0,A.jsx)("label",{htmlFor:"inputEmail",className:"form-label",children:"Email"}),(0,A.jsx)(m.A,{required:!0,type:"email",placeholder:"Enter your email",value:C.email,onChange:e=>B("email",e.target.value)})]})}),(0,A.jsx)(o.A,{xs:24,md:12,children:(0,A.jsxs)("div",{className:"item",children:[(0,A.jsx)("label",{htmlFor:"inputPassword",className:"form-label",children:"Password"}),(0,A.jsx)(m.A.Password,{required:!0,type:"password",placeholder:"Enter your password",value:C.password,onChange:e=>B("password",e.target.value)})]})}),(0,A.jsx)(o.A,{xs:24,md:12,className:"rightinput",children:(0,A.jsxs)("div",{className:"item",children:[(0,A.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone number"}),(0,A.jsxs)("div",{className:"PhoneBtnContainer",children:[(0,A.jsx)(v.N5,{placeholder:"Enter phone number",mask:"+91__________",replacement:{_:/\d/},onChange:e=>B("phoneNumber",e.target.value)}),(0,A.jsx)("button",{onClick:M,type:"button",className:"codebtn btn",children:"Send code"})]})]})}),T&&(0,A.jsxs)(o.A,{xs:24,children:[(0,A.jsx)("div",{className:"otpPart",children:(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{className:"mb-2",children:"OTP"}),(0,A.jsx)(x.A,{value:f,onChange:S,numInputs:6,renderSeparator:(0,A.jsx)("span",{children:"\xa0\xa0\xa0\xa0"}),renderInput:e=>(0,A.jsx)("input",{...e})})]})}),(0,A.jsx)(w.r,{sendOtp:M})]}),(0,A.jsx)(o.A,{xs:24,children:(0,A.jsx)(p.A,{required:!0,checked:C.termsAccepted,onChange:e=>B("termsAccepted",e.target.checked),children:"Accept terms of condition and privacy policy"})}),(0,A.jsx)(o.A,{xs:24,className:"otpBtn",children:(0,A.jsx)(u.Ay,{disabled:a,className:"py-2 h-auto",loading:a,type:"primary",htmlType:"submit",children:"Book a trial"})})]})]}),(0,A.jsx)(h.A,{children:"Or"}),(0,A.jsx)("div",{className:"loginOption",children:(0,A.jsxs)("p",{children:["Already have an account? ",(0,A.jsx)(l.N_,{to:"/login",children:"Login"})]})})]})]})})})}},45796:(e,a,s)=>{e.exports=s.p+"static/media/Book A Trial.74eaa6d74037fb328626.webp"},235:(e,a,s)=>{e.exports=s.p+"static/media/favicon.e1499c7e28032628d7ba.ico"}}]);
//# sourceMappingURL=1851.69ed9dff.chunk.js.map