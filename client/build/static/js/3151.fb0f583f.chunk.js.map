{"version":3,"file":"static/js/3151.fb0f583f.chunk.js","mappings":"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","sources":["Components/CalendarComp/CalendarComp.js","Components/Messages/messages.js","Pages/Tutors/Availability/Availability.js"],"sourcesContent":["import React from 'react';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\n\nconst CalendarComp = ({ onChange, date }) => {\n    const disablePastDates = ({ date }) => {\n        const today = new Date();\n        return date < today.setHours(0, 0, 0, 0); // Disable dates before today\n    };\n    return (\n        <div>\n            <Calendar\n                tileDisabled={disablePastDates}\n                onChange={onChange}\n                value={date}\n            />\n        </div>\n    )\n}\n\nexport default CalendarComp\n","import { message } from \"antd\";\n\nexport const SuccessAlert = (messages) => {\n    message.success({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n}\nexport const ErrorAlert = (messages) => {\n    message.error({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n\n}\nexport const WarningAlert = (messages) => {\n    message.warning({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4\n    });\n}","import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FaClock } from \"react-icons/fa\";\r\nimport { isAuthenticated } from \"../../../Components/Auth/auth\";\r\nimport CalendarComp from \"../../../Components/CalendarComp/CalendarComp\";\r\nimport { ErrorAlert, SuccessAlert } from \"../../../Components/Messages/messages\";\r\nimport \"./Availability.css\";\r\n\r\nconst Availability = () => {\r\n  const [date, setDate] = useState(new Date());\r\n  const [availabilitesArray, setAvailabilitesArray] = useState([]);\r\n  const [tutorObject, setTutorObject] = useState({});\r\n\r\n  const createMeeting = async (time, startTime) => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/scheduled-classes/create-meeting`, {\r\n        startTime,\r\n        email: isAuthenticated()?.email,\r\n        timezone: isAuthenticated()?.timezone,\r\n      });\r\n      if (response.status === 200) {\r\n        handleScheduleClasses(time, response.data.meetingLink);\r\n      } else {\r\n        ErrorAlert(response.data.errorMessage);\r\n      }\r\n      // setMeetingLink(response.data.meetingLink);\r\n    } catch (error) {\r\n      // console.error('Error creating meeting', error.response ? error.response.data : error.message);\r\n      ErrorAlert(error.message);\r\n    }\r\n  };\r\n\r\n  const getTutorById = async () => {\r\n    await axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/user/${isAuthenticated()?._id}`).then(res => {\r\n      if (res.status === 200) {\r\n        setTutorObject(res.data);\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    })\r\n  }\r\n\r\n  const addTimeSlot = async (time) => {\r\n    await axios.put(`${process.env.REACT_APP_BACKEND_URL}/users/tutors/add/time-slot`, { date: moment(date).format(\"DD/MM/YYYY\"), time }, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        SuccessAlert(res.data.successMessage);\r\n        getTutorById();\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    });\r\n  };\r\n\r\n  const handleAddTimeSlot = (time) => {\r\n    const startTime = moment(`${moment(date).format(\"YYYY/MM/DD\")} ${time.split(\" - \")[0]}`, \"YYYY/MM/DD h:mm a\").toISOString(); // Convert to ISO format\r\n    createMeeting(time, startTime);\r\n  }\r\n\r\n  const removeTimeSlot = async (time) => {\r\n    await axios.put(`${process.env.REACT_APP_BACKEND_URL}/users/tutors/remove/time-slot`, { date: moment(date).format(\"DD/MM/YYYY\"), time }, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        SuccessAlert(res.data.successMessage);\r\n        removeScheduledClass(time);\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    });\r\n  };\r\n\r\n  const removeScheduledClass = async (time) => {\r\n    await axios.put(`${process.env.REACT_APP_BACKEND_URL}/scheduled-classes/delete-class-and-availability/${isAuthenticated()?._id}`, { date: moment(date).format(\"DD/MM/YYYY\"), time }, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        SuccessAlert(res.data.successMessage);\r\n        getTutorById();\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    });\r\n  };\r\n\r\n  const onChange = (newDate) => {\r\n    setDate(newDate);\r\n    filterTutorAvailabilites(moment(newDate).format(\"DD/MM/YYYY\"));\r\n  };\r\n\r\n  const filterTutorAvailabilites = async (dt) => {\r\n    const filteredTutors = await tutorObject?.availability?.filter(av => av?.date === dt);\r\n    setAvailabilitesArray(filteredTutors);\r\n  };\r\n\r\n  const timingsArray = [\r\n    \"8:00am - 8:30am\",\r\n    \"8:40am - 9:10am\",\r\n    \"9:20am - 9:50am\",\r\n    \"10:00am - 10:30am\",\r\n    \"10:40am - 11:10am\",\r\n    \"11:20am - 11:50am\",\r\n    \"12:00pm - 12:30pm\",\r\n    \"12:40pm - 1:10pm\",\r\n    \"1:20pm - 1:50pm\",\r\n    \"2:00pm - 2:30pm\",\r\n    \"2:40pm - 3:10pm\",\r\n    \"3:20pm - 3:50pm\",\r\n    \"4:00pm - 4:30pm\",\r\n    \"4:40pm - 5:10pm\",\r\n    \"5:20pm - 5:50pm\",\r\n    \"6:00pm - 6:30pm\",\r\n    \"6:40pm - 7:10pm\",\r\n    \"7:20pm - 7:50pm\",\r\n    \"8:00pm - 8:30pm\",\r\n    \"8:40pm - 9:10pm\",\r\n    \"9:20pm - 9:50pm\",\r\n    \"10:00pm - 10:30pm\",\r\n    \"10:30pm - 11:00pm\",\r\n  ];\r\n\r\n\r\n  const handleScheduleClasses = async (time, meetingUrl) => {\r\n    await axios.post(`${process.env.REACT_APP_BACKEND_URL}/scheduled-classes/add`, {\r\n      tutor: isAuthenticated()?._id,\r\n      date: moment(date).format(\"DD/MM/YYYY\"),\r\n      time,\r\n      meetingUrl\r\n    }, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        SuccessAlert(res.data.successMessage);\r\n        addTimeSlot(time);\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getTutorById();\r\n\r\n    return () => {\r\n\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tutorObject) {\r\n      filterTutorAvailabilites(moment(new Date()).format(\"DD/MM/YYYY\"));\r\n    }\r\n\r\n    return () => {\r\n\r\n    }\r\n  }, [tutorObject]);\r\n\r\n\r\n  console.log(availabilitesArray);\r\n  return (\r\n    <div className=\"Availability\">\r\n      <div className=\"container\">\r\n        <div className=\"text-end\">\r\n          <a className=\"btn ant-btn-primary\" target=\"_blank\" href={`${process.env.REACT_APP_BACKEND_URL}/auth/authorize`}>Authorize Zoom</a>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"clockSide col-md-4 my-4\">\r\n            <CalendarComp date={date} onChange={onChange} />\r\n          </div>\r\n          <div className=\"timeSelect col-md-8\">\r\n            <p className=\"d-flex gap-2 mb-4\">\r\n              {moment(date).format(\"Do MMMM, YYYY\")} <b>Please select your time slot from following:</b>\r\n            </p>\r\n            <div className=\"items\">\r\n              {\r\n                timingsArray?.map((time, index) => {\r\n                  const isAdded = availabilitesArray?.some(f => f?.time === time);\r\n\r\n                  return (\r\n                    <div key={index} className=\"item\">\r\n                      <div>\r\n                        <FaClock />\r\n                        <span>{time}</span>\r\n                      </div>\r\n                      <div className=\"buttons\">\r\n                        {\r\n                          !isAdded ?\r\n                            <button className=\"btn\" onClick={() => handleAddTimeSlot(time)}>ADD</button>\r\n                            :\r\n                            <button className=\"btn removeBtn\" onClick={() => removeTimeSlot(time)}>REMOVE</button>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Availability;\r\n"],"names":["_ref","onChange","date","_jsx","children","Calendar","tileDisabled","_ref2","Date","setHours","value","SuccessAlert","messages","message","success","className","content","duration","style","marginTop","ErrorAlert","error","Availability","setDate","useState","availabilitesArray","setAvailabilitesArray","tutorObject","setTutorObject","getTutorById","async","_isAuthenticated3","axios","get","concat","process","isAuthenticated","_id","then","res","status","data","errorMessage","catch","err","console","log","handleAddTimeSlot","time","startTime","moment","format","split","toISOString","_isAuthenticated","_isAuthenticated2","response","post","email","timezone","handleScheduleClasses","meetingLink","createMeeting","removeScheduledClass","_isAuthenticated4","put","headers","Authorization","localStorage","getItem","successMessage","filterTutorAvailabilites","_tutorObject$availabi","filteredTutors","availability","filter","av","dt","timingsArray","meetingUrl","_isAuthenticated5","tutor","addTimeSlot","useEffect","_jsxs","target","href","CalendarComp","newDate","map","index","isAdded","some","f","FaClock","onClick","removeTimeSlot"],"sourceRoot":""}