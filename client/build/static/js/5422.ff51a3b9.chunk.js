"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[5422],{93884:(e,t,n)=>{n.d(t,{$p:()=>c,C9:()=>a});var s=n(22019);const a=e=>{s.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},c=e=>{s.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},84422:(e,t,n)=>{n.d(t,{A:()=>G});var s=n(65043),a=n(89073),c=n(98139),o=n.n(c),r=n(18574),l=n(15315),i=n(35296),d=n(51020),u=n(78365);const p=["wrap","nowrap","wrap-reverse"],m=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],g=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const h=function(e,t){return o()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{["".concat(e,"-wrap-").concat(n)]:n&&p.includes(n)}})(e,t)),((e,t)=>{const n={};return g.forEach((s=>{n["".concat(e,"-align-").concat(s)]=t.align===s})),n["".concat(e,"-align-stretch")]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return m.forEach((s=>{n["".concat(e,"-justify-").concat(s)]=t.justify===s})),n})(e,t)))},v=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},f=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},x=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n["".concat(t,"-wrap-").concat(e)]={flexWrap:e}})),n},j=e=>{const{componentCls:t}=e,n={};return g.forEach((e=>{n["".concat(t,"-align-").concat(e)]={alignItems:e}})),n},y=e=>{const{componentCls:t}=e,n={};return m.forEach((e=>{n["".concat(t,"-justify-").concat(e)]={justifyContent:e}})),n},b=(0,d.OF)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:s}=e,a=(0,u.h1)(e,{flexGapSM:t,flexGap:n,flexGapLG:s});return[v(a),f(a),x(a),j(a),y(a)]}),(()=>({})),{resetStyle:!1});var w=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n};const A=s.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:a,className:c,style:d,flex:u,gap:p,children:m,vertical:g=!1,component:v="div"}=e,f=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:x,direction:j,getPrefixCls:y}=s.useContext(i.QO),A=y("flex",n),[C,O,S]=b(A),N=null!==g&&void 0!==g?g:null===x||void 0===x?void 0:x.vertical,E=o()(c,a,null===x||void 0===x?void 0:x.className,A,O,S,h(A,e),{["".concat(A,"-rtl")]:"rtl"===j,["".concat(A,"-gap-").concat(p)]:(0,l.X)(p),["".concat(A,"-vertical")]:N}),k=Object.assign(Object.assign({},null===x||void 0===x?void 0:x.style),d);return u&&(k.flex=u),p&&!(0,l.X)(p)&&(k.gap=p),C(s.createElement(v,Object.assign({ref:t,className:E,style:k},(0,r.A)(f,["justify","wrap","align"])),m))}));const C=A;var O=n(2761),S=n(87021),N=n(89698),E=n(86178),k=n.n(E),M=n(73216),I=n(70579);const G=e=>{var t;let{meetingUrl:n,type:s,removeScheduledClass:c,isTutor:o,id:r,studentId:l,tutor:i,date:d,time:u,isUpcoming:p,tutorLayout:m,recording:g}=e;const h=(0,M.Zp)();return(0,I.jsxs)(a.A,{className:"SessionCard",children:[(0,I.jsxs)("div",{className:"sessionHeader",children:[(0,I.jsxs)(C,{gap:"10px",align:"center",children:[(0,I.jsx)(O.A,{size:48,icon:(0,I.jsx)("img",{src:null===i||void 0===i||null===(t=i.picture)||void 0===t?void 0:t.url})}),(0,I.jsxs)("span",{children:[s,": ",(0,I.jsx)("b",{children:null===i||void 0===i?void 0:i.fullName})]})]}),!p&&o&&(0,I.jsxs)("button",{className:"btn p-0",onClick:()=>h("/chats?receiver=".concat(l)),children:[(0,I.jsx)(N.Oz0,{}),(0,I.jsx)("br",{}),(0,I.jsx)("small",{children:"Message Me"})]})]}),(0,I.jsxs)(C,{justify:"space-between",className:"my-2",align:"center",children:[(0,I.jsxs)("div",{className:"text-start",children:[(0,I.jsx)("small",{children:"Date:"}),(0,I.jsx)("h6",{children:d})]}),(0,I.jsxs)("div",{className:"text-end",children:[(0,I.jsx)("small",{children:"Time:"}),(0,I.jsx)("h6",{children:u})]})]}),(0,I.jsx)(C,{gap:"19px",justify:"space-between",align:"center",className:"sessionActions mt-3",children:p?(0,I.jsxs)("div",{className:"w-100",children:[(0,I.jsxs)(C,{className:"sessionBtns",gap:"10px",justify:"space-between",align:"center",children:[(0,I.jsx)(S.Ay,{type:"primary",danger:!0,onClick:()=>c(r,d,u),children:"Cancel"}),(0,I.jsx)(S.Ay,{type:"primary",disabled:!(()=>{const e=k()(),t=k()("".concat(d," ").concat(u.split(" - ")[0]),"DD/MM/YYYY h:mm a"),n=k()("".concat(d," ").concat(u.split(" - ")[1]),"DD/MM/YYYY h:mm a");return e.isBetween(t,n,null,"[)")})(),onClick:()=>{return e=n,void window.open(e,"_blank","noopener,noreferrer");var e},children:"Join"})]}),(0,I.jsx)("p",{children:"Only 3 classes can be cancelled every month 2 hours before the class"})]}):null})]})}},43025:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(65043),a=n(47419),c=n(11645),o=n(18489),r=n(84422),l=n(86213),i=n(93884),d=n(31103),u=n(70579);const p=()=>{const[e,t]=(0,s.useState)(!1),[n,p]=(0,s.useState)([]),[m,g]=(0,s.useState)([]),h=async()=>{var e;await l.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/tutor/future/").concat(null===(e=(0,d.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),200===e.status?p(e.data):(0,i.$p)(e.data.errorMessage)})).catch((e=>{t(!1),console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))},v=async(e,t,n)=>{await l.A.delete("".concat("https://www.spelleng.com/api","/scheduled-classes/delete/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?((0,i.C9)(e.data.successMessage),h(),(async(e,t)=>{await l.A.put("".concat("https://www.spelleng.com/api","/users/tutors/remove/time-slot"),{date:t,time:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{200===e.status?(0,i.C9)(e.data.successMessage):(0,i.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))})(t,n)):(0,i.$p)(e.data.errorMessage)})).catch((e=>{console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))};(0,s.useEffect)((()=>(h(),()=>{})),[]);const f=[{key:"1",label:"Upcoming Classes",children:(0,u.jsx)(a.A,{gutter:[23,23],children:null===n||void 0===n?void 0:n.map(((e,t)=>(0,u.jsx)(c.A,{xs:24,md:12,lg:8,children:(0,u.jsx)(r.A,{id:null===e||void 0===e?void 0:e._id,tutor:e.students[0],date:e.date,time:e.time,isUpcoming:!0,meetingUrl:null===e||void 0===e?void 0:e.meetingUrl,type:"Student",removeScheduledClass:v},t)})))})},{key:"2",label:"Previous Classes",children:(0,u.jsx)(a.A,{gutter:[23,23],children:null===m||void 0===m?void 0:m.map(((e,t)=>{var n;return(0,u.jsx)(c.A,{xs:24,md:12,lg:8,children:(0,u.jsx)(r.A,{id:null===e||void 0===e?void 0:e._id,tutor:e.students[0],date:e.date,time:e.time,isUpcoming:!1,isTutor:!0,type:"Student",studentId:null===e||void 0===e||null===(n=e.students[0])||void 0===n?void 0:n._id},t)})}))})}];return(0,u.jsx)("div",{className:"UpcomingTutor",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(o.A,{defaultActiveKey:"1",onChange:e=>"1"===e?h():"2"===e&&(async()=>{var e;await l.A.get("".concat("https://www.spelleng.com/api","/scheduled-classes/tutor/past/").concat(null===(e=(0,d.wR)())||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{t(!1),200===e.status?g(e.data):(0,i.$p)(e.data.errorMessage)})).catch((e=>{t(!1),console.log(e),(0,i.$p)(null===e||void 0===e?void 0:e.message)}))})(),items:f})})})}},15315:(e,t,n)=>{function s(e){return["small","middle","large"].includes(e)}function a(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}n.d(t,{X:()=>s,m:()=>a})},44210:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(65043);function a(){const[,e]=s.useReducer((e=>e+1),0);return e}},11645:(e,t,n)=>{n.d(t,{A:()=>s});const s=n(30227).A},99598:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(65043),a=n(52664),c=n(44210),o=n(44320);const r=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,s.useRef)({}),n=(0,c.A)(),r=(0,o.Ay)();return(0,a.A)((()=>{const s=r.subscribe((s=>{t.current=s,e&&n()}));return()=>r.unsubscribe(s)}),[]),t.current}},47419:(e,t,n)=>{n.d(t,{A:()=>s});const s=n(28821).A},92919:(e,t,n)=>{function s(e,t,n){const{focusElCls:s,focus:a,borderElCls:c}=n,o=c?"> *":"",r=["hover",a?"focus":null,"active"].filter(Boolean).map((e=>"&:".concat(e," ").concat(o))).join(",");return{["&-item:not(".concat(t,"-last-item)")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[r]:{zIndex:2}},s?{["&".concat(s)]:{zIndex:2}}:{}),{["&[disabled] ".concat(o)]:{zIndex:0}})}}function a(e,t,n){const{borderElCls:s}=n,a=s?"> ".concat(s):"";return{["&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(a)]:{borderRadius:0},["&-item:not(".concat(t,"-last-item)").concat(t,"-first-item")]:{["& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(t,"-first-item)").concat(t,"-last-item")]:{["& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,c="".concat(n,"-compact");return{[c]:Object.assign(Object.assign({},s(e,c,t)),a(n,c,t))}}n.d(t,{G:()=>c})},18574:(e,t,n)=>{function s(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}n.d(t,{A:()=>s})}}]);
//# sourceMappingURL=5422.ff51a3b9.chunk.js.map