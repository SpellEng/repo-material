"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[9145],{55755:(e,t,s)=>{s.d(t,{A:()=>a});s(65043);var n=s(70579);const a=()=>(0,n.jsx)(n.Fragment,{children:"\u20b9"})},93884:(e,t,s)=>{s.d(t,{$p:()=>c,C9:()=>a});var n=s(22019);const a=e=>{n.Ay.success({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})},c=e=>{n.Ay.error({className:"ant-message",content:e,duration:4,style:{marginTop:"40px"}})}},56391:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(65043),a=s(94434),c=s(82639);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INR";return new Intl.NumberFormat(t,{currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)};var l=s(55755),o=s(70579);const r=e=>{let{plan:t,selectedClasses:s,selectedPlan:n,setSelectedPlan:a}=e;const c=t.classes.find((e=>e.count===s)).price;return(0,o.jsxs)("div",{className:"planContainer ".concat(n===t.duration&&"selected"),onClick:()=>a(t.duration),children:[t.discount&&(0,o.jsx)("div",{className:"save",children:(0,o.jsxs)("p",{children:["SAVE ",t.discount,"%"]})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{children:t.duration}),(0,o.jsxs)("p",{children:["No. of classes: ",(0,o.jsx)("b",{children:s*parseInt(t.duration)})]})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("h4",{children:[(0,o.jsx)(l.A,{}),i(c/parseInt(t.duration))," ",(0,o.jsx)("small",{children:"/mo"})]})})]})};var d=s(15444);const p=s.p+"static/media/razorpay.10b8c74f8ea1690b0808.png";var u=s(86213),m=s(73216),h=s(93884),x=s(31103),v=s(87021);const j=e=>{let{studentId:t,plan:s,amount:n,classesPerMonth:a,btnText:c}=e;const i=(0,m.Zp)();return(0,o.jsx)(v.Ay,{className:"btn h-auto w-100 py-2 rounded-2 payBtn",onClick:async()=>{if((0,x.wR)()){const e=await u.A.post("".concat("https://www.spelleng.com/api","/subscriptions/create-order"),{amount:n},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).catch((e=>{console.log(e)})),{id:c}=e.data,l={key:"rzp_test_V2ixbI12n2K74v",amount:n,currency:"INR",name:"SpellENg Subscription",description:"Subscription Payment",order_id:c,handler:async function(e){try{var c,l;await u.A.post("".concat("https://www.spelleng.com/api","/subscriptions/create-subscription"),{studentId:t,plan:s,name:null===(c=(0,x.wR)())||void 0===c?void 0:c.fullName,email:null===(l=(0,x.wR)())||void 0===l?void 0:l.email,classesPerMonth:a,razorpayPaymentId:e.razorpay_payment_id,amount:n},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),(0,h.C9)("Subscription created and activated successfully"),i("/student/subscriptions")}catch(o){console.error(o),(0,h.$p)("Failed to create subscription")}},theme:{color:"#F37254"}};new window.Razorpay(l).open()}else(0,h.$p)("Please login first to buy plans")},children:c})},{Search:g}=d.A,y=e=>{var t;let{selectedPlan:s,selectedClasses:a,pricingPlans:c}=e;const r=c.find((e=>e.duration===s)),[d,m]=(0,n.useState)(""),[v,y]=(0,n.useState)(0);if(!r)return null;const b=r.classes.find((e=>e.count===a)).price,f=r.discount?b*r.discount/100:0,C=v?b*v/100:0,S=b-f;return(0,o.jsxs)("div",{className:"billContainer",children:[(0,o.jsx)("h4",{children:"Bill Summary"}),(0,o.jsxs)("div",{className:"item",children:[(0,o.jsx)("h6",{children:"Base Price:"}),(0,o.jsxs)("h6",{children:[(0,o.jsx)(l.A,{}),i(b)]})]}),f>0&&(0,o.jsxs)("div",{className:"item discount",children:[(0,o.jsxs)("h6",{children:["Discount (",r.discount,"%):"]}),(0,o.jsxs)("h6",{children:["-",(0,o.jsx)(l.A,{}),i(f)]})]}),C>0&&(0,o.jsxs)("div",{className:"item discount",children:[(0,o.jsxs)("h6",{children:["Coupon Discount (",v,"%):"]}),(0,o.jsxs)("h6",{children:["-",(0,o.jsx)(l.A,{}),i(C)]})]}),(0,o.jsxs)("div",{className:"item",children:[(0,o.jsx)("h6",{children:"Net Price:"}),(0,o.jsxs)("h6",{children:[(0,o.jsx)(l.A,{}),i(S-C)]})]}),(0,o.jsxs)("div",{className:"item couponContainer",children:[(0,o.jsx)("h6",{children:"Have a discount coupon?"}),(0,o.jsx)("div",{children:(0,o.jsx)(g,{placeholder:"Enter coupon code",value:d,allowClear:!0,onChange:e=>m(e.target.value),onSearch:async()=>{try{const e=await u.A.post("".concat("https://www.spelleng.com/api","/coupons/validate"),{code:d},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});200===e.status&&(y(e.data.discount),(0,h.C9)("Coupon applied! Discount: ".concat(e.data.discount,"%")))}catch(e){(0,h.$p)(e.response.data.message)}},enterButton:"Apply"})})]}),(0,o.jsxs)("div",{className:"item mt-5",children:[(0,o.jsx)("h6",{children:(0,o.jsx)("b",{children:"Pay Now"})}),(0,o.jsx)("h6",{children:(0,o.jsxs)("b",{children:[(0,o.jsx)(l.A,{}),i(S-C)]})})]}),(0,o.jsx)("div",{className:"item mt-0 mb-4",children:(0,o.jsx)("button",{className:"btn",children:(0,o.jsx)("img",{src:p,alt:"Razorpay",style:{width:"100px"}})})}),(0,o.jsx)(j,{btnText:(0,o.jsxs)("div",{children:["Pay \xa0 ",(0,o.jsx)(l.A,{}),i(S-C)]}),classesPerMonth:a,studentId:null===(t=(0,x.wR)())||void 0===t?void 0:t._id,plan:s,amount:S-C})]})},b=()=>{var e;const[t,s]=(0,n.useState)(12),[i,l]=(0,n.useState)("3 Month"),d=[{duration:"1 Month",classes:[{count:12,price:6700},{count:20,price:8500}]},{duration:"3 Month",classes:[{count:12,price:16e3},{count:20,price:2e4}],discount:19},{duration:"6 Month",classes:[{count:12,price:3e4},{count:20,price:35e3}],discount:24}];return console.log(i),(0,o.jsx)("div",{className:"Subscription",children:(0,o.jsxs)("div",{className:"inner container",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-center",children:"Choose a plan that suits your budget & schedule"}),(0,o.jsx)("div",{className:"features",children:(0,o.jsx)("ul",{children:null===(e=["1-1 Live Class","".concat(t," Classes Per Month"),"30 Minutes Per Class","Class Recording","Expert Feedback","Flexible Timing"])||void 0===e?void 0:e.map(((e,t)=>(0,o.jsxs)("li",{children:[(0,o.jsx)(c.q1R,{})," ",e]},t)))})})]}),(0,o.jsxs)("div",{className:"classesBtns",children:[(0,o.jsx)("h6",{children:"Select No. of classes"}),(0,o.jsx)(a.A,{defaultValue:12,className:"classesSelect",onChange:e=>s(e),options:[{value:12,label:"12 Classes"},{value:20,label:"20 Classes"}]})]}),(0,o.jsxs)("div",{className:"subscriptionContainer",children:[(0,o.jsx)("div",{className:"subscriptionPlanContainer",children:d.reverse().map((e=>(0,o.jsx)(r,{plan:e,selectedClasses:t,selectedPlan:i,setSelectedPlan:l},e.duration)))}),(0,o.jsx)(y,{selectedPlan:i,selectedClasses:t,pricingPlans:d})]})]})})}},12701:(e,t,s)=>{s.d(t,{Ob:()=>i,fx:()=>c,zv:()=>a});var n=s(65043);function a(e){return e&&n.isValidElement(e)&&e.type===n.Fragment}const c=(e,t,s)=>n.isValidElement(e)?n.cloneElement(e,"function"===typeof s?s(e.props||{}):s):t;function i(e,t){return c(e,e,t)}},45132:(e,t,s)=>{s.d(t,{Ay:()=>x,K6:()=>m,RQ:()=>u});var n=s(65043),a=s(98139),c=s.n(a),i=s(62149),l=s(35296),o=s(89122),r=s(78309),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};const p=n.createContext(null),u=(e,t)=>{const s=n.useContext(p),a=n.useMemo((()=>{if(!s)return"";const{compactDirection:n,isFirstItem:a,isLastItem:i}=s,l="vertical"===n?"-vertical-":"-";return c()("".concat(e,"-compact").concat(l,"item"),{["".concat(e,"-compact").concat(l,"first-item")]:a,["".concat(e,"-compact").concat(l,"last-item")]:i,["".concat(e,"-compact").concat(l,"item-rtl")]:"rtl"===t})}),[e,t,s]);return{compactSize:null===s||void 0===s?void 0:s.compactSize,compactDirection:null===s||void 0===s?void 0:s.compactDirection,compactItemClassnames:a}},m=e=>{let{children:t}=e;return n.createElement(p.Provider,{value:null},t)},h=e=>{var{children:t}=e,s=d(e,["children"]);return n.createElement(p.Provider,{value:s},t)},x=e=>{const{getPrefixCls:t,direction:s}=n.useContext(l.QO),{size:a,direction:u,block:m,prefixCls:x,className:v,rootClassName:j,children:g}=e,y=d(e,["size","direction","block","prefixCls","className","rootClassName","children"]),b=(0,o.A)((e=>null!==a&&void 0!==a?a:e)),f=t("space-compact",x),[C,S]=(0,r.A)(f),w=c()(f,S,{["".concat(f,"-rtl")]:"rtl"===s,["".concat(f,"-block")]:m,["".concat(f,"-vertical")]:"vertical"===u},v,j),N=n.useContext(p),P=(0,i.A)(g),A=n.useMemo((()=>P.map(((e,t)=>{const s=e&&e.key||"".concat(f,"-item-").concat(t);return n.createElement(h,{key:s,compactSize:b,compactDirection:u,isFirstItem:0===t&&(!N||(null===N||void 0===N?void 0:N.isFirstItem)),isLastItem:t===P.length-1&&(!N||(null===N||void 0===N?void 0:N.isLastItem))},e)}))),[a,P,N]);return 0===P.length?null:C(n.createElement("div",Object.assign({className:w},y),A))}},78309:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(51020),a=s(78365);const c=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},i=e=>{const{componentCls:t,antCls:s}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(t,"-item:empty")]:{display:"none"},["".concat(t,"-item > ").concat(s,"-badge-not-a-wrapper:only-child")]:{display:"block"}}}},l=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},o=(0,n.OF)("Space",(e=>{const t=(0,a.h1)(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[i(t),l(t),c(t)]}),(()=>({})),{resetStyle:!1})}}]);
//# sourceMappingURL=9145.ab727797.chunk.js.map