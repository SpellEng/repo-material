"use strict";(self.webpackChunkSpellEng=self.webpackChunkSpellEng||[]).push([[7139],{93884:(a,e,t)=>{t.d(e,{$p:()=>o,C9:()=>n});var r=t(22019);const n=a=>{r.Ay.success({className:"ant-message",content:a,duration:4,style:{marginTop:"40px"}})},o=a=>{r.Ay.error({className:"ant-message",content:a,duration:4,style:{marginTop:"40px"}})}},57139:(a,e,t)=>{t.r(e),t.d(e,{default:()=>i});t(65043);var r=t(31103),n=t(86213),o=t(93884),s=t(73216),l=t(70579);const i=()=>{const a=(0,s.Zp)();return(0,l.jsx)("div",{className:"BookTrial container",children:(0,l.jsxs)("div",{className:"inner",children:[(0,l.jsxs)("div",{className:"fee",children:[(0,l.jsx)("h2",{children:"Book A Trial Class @ 99"}),(0,l.jsxs)("p",{children:["You get a 30-minute trial class with an expert tutor,",(0,l.jsx)("span",{children:" feedback, and recording"})]})]}),(0,l.jsxs)("div",{className:"bookBtn",children:[(0,l.jsx)("button",{onClick:async()=>{var e,t;if((0,r.wR)()&&null!==(e=(0,r.wR)())&&void 0!==e&&e.trialActivated)(0,o.$p)("Trial can be activated once. You have already activated your free trial.");else if(!(0,r.wR)()||null!==(t=(0,r.wR)())&&void 0!==t&&t.trialActivated)(0,o.$p)("Please login first to activate your trial");else{const e=await n.A.post("".concat("https://www.spelleng.com/api","/subscriptions/create-order"),{amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).catch((a=>{console.log(a)})),{id:t}=e.data,s={key:"rzp_test_V2ixbI12n2K74v",amount:9900,currency:"INR",name:"SpellENg Trial Payment @99",description:"Trial Payment",order_id:t,handler:async function(e){try{var t,s,l;await n.A.post("".concat("https://www.spelleng.com/api","/users/book-trial"),{user:null===(t=(0,r.wR)())||void 0===t?void 0:t._id,plan:"Trial",name:null===(s=(0,r.wR)())||void 0===s?void 0:s.fullName,email:null===(l=(0,r.wR)())||void 0===l?void 0:l.email,razorpayPaymentId:e.razorpay_payment_id,amount:99},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{var t;200===e.status?((0,o.C9)(e.data.successMessage),localStorage.setItem("user",JSON.stringify(null===(t=e.data)||void 0===t?void 0:t.user)),a("/all-tutors")):(0,o.$p)(e.data.errorMessage)}))}catch(i){console.error(i),(0,o.$p)("Failed to activate Trial")}},theme:{color:"#F37254"}};new window.Razorpay(s).open()}},children:"Book Now"}),(0,l.jsx)("p",{children:"Trial Class can be done only once in an account"})]})]})})}}}]);
//# sourceMappingURL=7139.f7afa98e.chunk.js.map