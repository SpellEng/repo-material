{"version":3,"file":"static/js/4158.e3994000.chunk.js","mappings":"8IAEA,MAQA,EARqBA,KAEbC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAE,U,4DCFH,MAAMC,EAAgBC,IACzBC,EAAAA,GAAQC,QAAQ,CACZC,UAAW,cACXC,QAASJ,EACTK,SAAU,EACVC,MAAO,CAAEC,UAAW,SACtB,EAEOC,EAAcR,IACvBC,EAAAA,GAAQQ,MAAM,CACVN,UAAW,cACXC,QAASJ,EACTK,SAAU,EACVC,MAAO,CAAEC,UAAW,SACtB,C,mCChBC,MAAMG,EAAoBA,IACtB,G,uNCSX,MAyLA,EAzLsBC,KAAO,IAADC,EAAAC,EAC1B,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,WAAS,IAC9CC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,CAAC,IAC3BK,EAASC,IAAcN,EAAAA,EAAAA,UAAS,KAChCO,GAAQC,EAAAA,EAAKC,UAEdC,EAAaC,IACjBT,EAAYS,GACZZ,GAAkB,EAAK,EAGnBa,EAAcC,UAClB,IAAK,IAADC,EACF,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,+BAAiC,gBAAAD,OAAgC,QAAhCJ,GAAeM,EAAAA,EAAAA,aAAiB,IAAAN,OAAA,EAAjBA,EAAmBO,KAAO,CAC5GC,QAAS,CACPC,cAAe,UAAYC,aAAaC,QAAQ,YAGpDrB,EAAQW,EAASW,KACnB,CAAE,MAAOjC,GACPkC,QAAQlC,MAAM,8BAA+BA,IAC7CD,EAAAA,EAAAA,IAAgB,OAALC,QAAK,IAALA,OAAK,EAALA,EAAOR,QACpB,IA8CF2C,EAAAA,EAAAA,YAAU,KACRhB,IA5CyBC,WAAa,IAADgB,QAC/Bb,EAAAA,EAAMC,IAAI,GAADC,OAAIC,+BAAiC,kCAAAD,OAAkD,QAAlDW,GAAiCT,EAAAA,EAAAA,aAAiB,IAAAS,OAAA,EAAjBA,EAAmBR,KAAO,CAC7GC,QAAS,CACPC,cAAe,UAAYC,aAAaC,QAAQ,YAEjDK,MAAKC,IACa,MAAfA,EAAIC,OACN1B,EAAWyB,EAAIL,OAEflC,EAAAA,EAAAA,IAAWuC,EAAIL,KAAKO,aACtB,IACCC,OAAMC,IACPR,QAAQS,IAAID,IACZ3C,EAAAA,EAAAA,IAAc,OAAH2C,QAAG,IAAHA,OAAG,EAAHA,EAAKlD,QAAQ,GACxB,EA+BFoD,GAEO,SAGN,IAEH,MAAMC,EAAU,CACd,CACEC,MAAO,OACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,OACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,MACPC,UAAW,UACXC,IAAK,UACLC,OAAQA,CAACC,EAAGC,KAAC,IAAAC,EAAA,OACXC,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,CAAK,qBAAoB,OAAD8D,QAAC,IAADA,GAAc,QAAbC,EAADD,EAAGG,SAAS,UAAE,IAAAF,OAAb,EAADA,EAAgBG,WAAe,GAG3D,CACET,MAAO,SACPE,IAAK,KACLC,OAAQA,CAACC,EAAGC,KACVE,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,EAAKF,EAAAA,EAAAA,KAACD,EAAAA,EAAY,KAAIe,EAAAA,EAAAA,UAK5B,OACEd,EAAAA,EAAAA,KAAA,OAAKO,UAAU,gBAAeL,UAC5BgE,EAAAA,EAAAA,MAAA,OAAK3D,UAAU,YAAWL,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBACJgE,EAAAA,EAAAA,MAAA,UAAAhE,SAAA,EACEF,EAAAA,EAAAA,KAACqE,EAAAA,IAAY,IAAG,sFAIlBH,EAAAA,EAAAA,MAAA,OAAK3D,UAAU,kBAAiBL,SAAA,EAC9BgE,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iBACHgE,EAAAA,EAAAA,MAAA,MAAAhE,SAAA,EAAIF,EAAAA,EAAAA,KAACD,EAAAA,EAAY,IAAQ,OAAJwB,QAAI,IAAJA,GAAiB,QAAbP,EAAJO,EAAM+C,mBAAW,IAAAtD,OAAb,EAAJA,EAAmBuD,QAAO,CAACR,EAAGC,IAAMD,GAAK,OAADC,QAAC,IAADA,OAAC,EAADA,EAAGQ,SAAQ,UAE1EN,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,sBACHgE,EAAAA,EAAAA,MAAA,MAAAhE,SAAA,EAAIF,EAAAA,EAAAA,KAACD,EAAAA,EAAY,KAAW,OAAP0B,QAAO,IAAPA,OAAO,EAAPA,EAASgD,SAAS3D,EAAAA,EAAAA,eAG3CoD,EAAAA,EAAAA,MAAA,OAAK3D,UAAU,eAAcL,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,kBACHF,EAAAA,EAAAA,KAAC0E,EAAAA,GAAM,CAACC,QAASA,IAAM7C,EAAU,QAASvB,UAAU,aAAYL,SAAC,UACjEF,EAAAA,EAAAA,KAAC0E,EAAAA,GAAM,CAACC,QAASA,IAAM7C,EAAU,OAAQvB,UAAU,aAAYL,SAAC,WAG5D,OAAJqB,QAAI,IAAJA,GAAoB,QAAhBN,EAAJM,EAAMqD,sBAAc,IAAA3D,OAAhB,EAAJA,EAAsB4D,KAAI,CAACC,EAAQC,KAAW,IAADC,EAC3C,OACEhF,EAAAA,EAAAA,KAACiF,EAAAA,EAAI,CAAatB,MAAK,GAAArB,OAAW,OAANwC,QAAM,IAANA,GAAY,QAANE,EAANF,EAAQ/C,YAAI,IAAAiD,OAAN,EAANA,EAAcE,cAAa,oBAAoB3E,UAAU,0BAAyBL,SAEzF,UAAX,OAAN4E,QAAM,IAANA,OAAM,EAANA,EAAQ/C,OACNmC,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,EACEgE,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA6B,IAAQ,OAAN4E,QAAM,IAANA,OAAM,EAANA,EAAQK,sBAClDjB,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAQ,OAAN4E,QAAM,IAANA,OAAM,EAANA,EAAQM,kBAC7ClB,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,IAAQ,OAAN4E,QAAM,IAANA,OAAM,EAANA,EAAQO,aACxCnB,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,IAAQ,OAAN4E,QAAM,IAANA,GAAAA,EAAQQ,YAAc,MAAQ,UAJtDP,IAOVb,EAAAA,EAAAA,MAAA,OAAAhE,SAAA,EACEgE,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,YAAgB,IAAQ,OAAN4E,QAAM,IAANA,OAAM,EAANA,EAAQS,UACrCrB,EAAAA,EAAAA,MAAA,KAAAhE,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,IAAQ,OAAN4E,QAAM,IAANA,GAAAA,EAAQQ,YAAc,MAAQ,YAZ3DP,EAeJ,KAIbb,EAAAA,EAAAA,MAAA,OAAK3D,UAAU,kBAAiBL,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,sBACJF,EAAAA,EAAAA,KAACwF,EAAAA,EAAK,CAACC,YAAY,EAAOC,WAAYjE,EAASiC,QAASA,QAE1D1D,EAAAA,EAAAA,KAAC2F,EAAAA,EAAK,CAAChC,MAAM,wBAAwBiC,QAAS1E,EAAgB2E,KAjHnD5D,UACf,IAAK,IAAD6D,EACF,MAAMC,QAAepE,EAAKqE,iBACpBC,EAA0B,QAApBH,GAAGtD,EAAAA,EAAAA,aAAiB,IAAAsD,OAAA,EAAjBA,EAAmBrD,UAC5BL,EAAAA,EAAM8D,IAAI,GAAD5D,OAAIC,+BAAiC,qCAAqC,IAAKwD,EAAQE,SAAQlE,KAAMV,GAAY,CAC9HqB,QAAS,CACPC,cAAe,UAAYC,aAAaC,QAAQ,YAEjDK,MAAKC,IAIE,IAADgD,EAHY,MAAfhD,EAAIC,QACNpB,IACAb,GAAkB,KAElBP,EAAAA,EAAAA,IAAmB,QAATuF,EAAChD,EAAIL,YAAI,IAAAqD,OAAA,EAARA,EAAU9C,aACvB,GAEJ,CAAE,MAAOxC,GACPkC,QAAQlC,MAAM,gCAAiCA,IAC/CD,EAAAA,EAAAA,IAAgB,OAALC,QAAK,IAALA,OAAK,EAALA,EAAOR,QACpB,GA8FkF+F,SA3F/DC,KACnBlF,GAAkB,EAAM,EA0FiFjB,UACnGgE,EAAAA,EAAAA,MAACtC,EAAAA,EAAI,CAACD,KAAMA,EAAM2E,OAAO,WAAUpG,SAAA,CACnB,SAAbmB,GACC6C,EAAAA,EAAAA,MAAAjE,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAAC4B,EAAAA,EAAK2E,KAAI,CAACC,KAAK,oBAAoBC,MAAM,sBAAsBC,MAAO,CAAC,CAAEC,UAAU,EAAMtG,QAAS,qCAAsCH,UACvIF,EAAAA,EAAAA,KAAC4G,EAAAA,EAAK,OAER5G,EAAAA,EAAAA,KAAC4B,EAAAA,EAAK2E,KAAI,CAACC,KAAK,gBAAgBC,MAAM,iBAAiBC,MAAO,CAAC,CAAEC,UAAU,EAAMtG,QAAS,gCAAiCH,UACzHF,EAAAA,EAAAA,KAAC4G,EAAAA,EAAK,OAER5G,EAAAA,EAAAA,KAAC4B,EAAAA,EAAK2E,KAAI,CAACC,KAAK,WAAWC,MAAM,YAAYC,MAAO,CAAC,CAAEC,UAAU,EAAMtG,QAAS,2BAA4BH,UAC1GF,EAAAA,EAAAA,KAAC4G,EAAAA,EAAK,UAIV5G,EAAAA,EAAAA,KAAC4B,EAAAA,EAAK2E,KAAI,CAACC,KAAK,QAAQC,MAAM,SAASC,MAAO,CAAC,CAAEC,UAAU,EAAMtG,QAAS,wBAAyBH,UACjGF,EAAAA,EAAAA,KAAC4G,EAAAA,EAAK,OAGV5G,EAAAA,EAAAA,KAAC4B,EAAAA,EAAK2E,KAAI,CAACC,KAAK,cAAcK,cAAc,UAAS3G,UACnDF,EAAAA,EAAAA,KAAC8G,EAAAA,EAAQ,CAAA5G,SAAC,wCAKd,C","sources":["Components/CurrencySign.js","Components/Messages/messages.js","Components/TeacherCommission.js","Pages/Tutors/Earning/Earning.js"],"sourcesContent":["import React from 'react'\n\nconst CurrencySign = () => {\n    return (\n        <>\n            â‚¹\n        </>\n    )\n}\n\nexport default CurrencySign\n","import { message } from \"antd\";\n\nexport const SuccessAlert = (messages) => {\n    message.success({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n}\nexport const ErrorAlert = (messages) => {\n    message.error({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n\n}\nexport const WarningAlert = (messages) => {\n    message.warning({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4\n    });\n}","export const teacherCommission = () => {\n    return 100;\n};","import React, { useEffect, useState } from \"react\";\r\nimport { Modal, Button, Form, Input, Checkbox, Card, Table } from \"antd\";\r\nimport { FaInfoCircle } from \"react-icons/fa\";\r\nimport CurrencySign from \"../../../Components/CurrencySign\";\r\nimport axios from \"axios\";\r\nimport \"./Earning.css\";\r\nimport { isAuthenticated } from \"../../../Components/Auth/auth\";\r\nimport { ErrorAlert } from \"../../../Components/Messages/messages\";\r\nimport { teacherCommission } from \"../../../Components/TeacherCommission\";\r\n\r\nconst TutorEarnings = () => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [formType, setFormType] = useState(\"\");\r\n  const [user, setUser] = useState({});\r\n  const [classes, setClasses] = useState([]);\r\n  const [form] = Form.useForm();\r\n\r\n  const showModal = (type) => {\r\n    setFormType(type);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const getUserById = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/user/${isAuthenticated()?._id}`, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n        }\r\n      });\r\n      setUser(response.data);\r\n    } catch (error) {\r\n      console.error('Error getting user details:', error);\r\n      ErrorAlert(error?.message);\r\n    }\r\n  };\r\n\r\n  const getPreviousClasses = async () => {\r\n    await axios.get(`${process.env.REACT_APP_BACKEND_URL}/scheduled-classes/tutor/past/${isAuthenticated()?._id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n      }\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        setClasses(res.data);\r\n      } else {\r\n        ErrorAlert(res.data.errorMessage);\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      ErrorAlert(err?.message);\r\n    })\r\n  }\r\n\r\n  const handleOk = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      const userId = isAuthenticated()?._id; // Replace with actual user ID\r\n      await axios.put(`${process.env.REACT_APP_BACKEND_URL}/users/tutors/add-payment-details`, { ...values, userId, type: formType }, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n        }\r\n      }).then(res => {\r\n        if (res.status === 200) {\r\n          getUserById();\r\n          setIsModalVisible(false);\r\n        } else {\r\n          ErrorAlert(res.data?.errorMessage);\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error('Error saving payment details:', error);\r\n      ErrorAlert(error?.message);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserById();\r\n    getPreviousClasses();\r\n\r\n    return () => {\r\n\r\n    }\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n    },\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n    },\r\n    {\r\n      title: 'For',\r\n      dataIndex: 'student',\r\n      key: 'student',\r\n      render: (a, b) => (\r\n        <div>1 on 1 class with {b?.students[0]?.fullName}</div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Amount',\r\n      key: '30',\r\n      render: (a, b) => (\r\n        <div><CurrencySign />{teacherCommission()}</div>\r\n      )\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"TutorEarnings\">\r\n      <div className=\"container\">\r\n        <h4>Revenue Earned</h4>\r\n        <header>\r\n          <FaInfoCircle />\r\n          You can get your available revenue Every Week in your\r\n          preferred payment method.\r\n        </header>\r\n        <div className=\"amountContainer\">\r\n          <div>\r\n            <p>Withdrawals</p>\r\n            <h4><CurrencySign />{user?.withdrawals?.reduce((a, b) => a + b?.amount, 0)}</h4>\r\n          </div>\r\n          <div>\r\n            <p>Available Income</p>\r\n            <h4><CurrencySign />{classes?.length * teacherCommission()}</h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"withdrawBtns\">\r\n          <p>Withdraw To:</p>\r\n          <Button onClick={() => showModal('bank')} className=\"btn h-auto\">Bank</Button>\r\n          <Button onClick={() => showModal('upi')} className=\"btn h-auto\">UPI</Button>\r\n        </div>\r\n        {\r\n          user?.paymentDetails?.map((detail, index) => {\r\n            return (\r\n              <Card key={index} title={`${detail?.type?.toUpperCase()} Payment Details`} className=\"paymentDetailsCard mb-3\">\r\n                {\r\n                  detail?.type === \"bank\" ?\r\n                    <div key={index}>\r\n                      <p><strong>Account Holder Name:</strong> {detail?.accountHolderName}</p>\r\n                      <p><strong>Account Number:</strong> {detail?.accountNumber}</p>\r\n                      <p><strong>IFSC Code:</strong> {detail?.ifscCode}</p>\r\n                      <p><strong>Preferred:</strong> {detail?.isPreferred ? 'Yes' : 'No'}</p>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                      <p><strong>UPI ID:</strong> {detail?.upiId}</p>\r\n                      <p><strong>Preferred:</strong> {detail?.isPreferred ? 'Yes' : 'No'}</p>\r\n                    </div>\r\n                }\r\n              </Card>\r\n            )\r\n          })\r\n        }\r\n        <div className=\"fullDetail mt-4\">\r\n          <h1>Payment history:</h1>\r\n          <Table pagination={false} dataSource={classes} columns={columns} />\r\n        </div>\r\n        <Modal title=\"Enter Payment Details\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n          <Form form={form} layout=\"vertical\">\r\n            {formType === 'bank' ? (\r\n              <>\r\n                <Form.Item name=\"accountHolderName\" label=\"Account Holder Name\" rules={[{ required: true, message: 'Please enter account holder name' }]}>\r\n                  <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"accountNumber\" label=\"Account Number\" rules={[{ required: true, message: 'Please enter account number' }]}>\r\n                  <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"ifscCode\" label=\"IFSC Code\" rules={[{ required: true, message: 'Please enter IFSC code' }]}>\r\n                  <Input />\r\n                </Form.Item>\r\n              </>\r\n            ) : (\r\n              <Form.Item name=\"upiId\" label=\"UPI ID\" rules={[{ required: true, message: 'Please enter UPI ID' }]}>\r\n                <Input />\r\n              </Form.Item>\r\n            )}\r\n            <Form.Item name=\"isPreferred\" valuePropName=\"checked\">\r\n              <Checkbox>Preferred Payment Method</Checkbox>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TutorEarnings;\r\n"],"names":["CurrencySign","_jsx","_Fragment","children","SuccessAlert","messages","message","success","className","content","duration","style","marginTop","ErrorAlert","error","teacherCommission","TutorEarnings","_user$withdrawals","_user$paymentDetails","isModalVisible","setIsModalVisible","useState","formType","setFormType","user","setUser","classes","setClasses","form","Form","useForm","showModal","type","getUserById","async","_isAuthenticated","response","axios","get","concat","process","isAuthenticated","_id","headers","Authorization","localStorage","getItem","data","console","useEffect","_isAuthenticated2","then","res","status","errorMessage","catch","err","log","getPreviousClasses","columns","title","dataIndex","key","render","a","b","_b$students$","_jsxs","students","fullName","FaInfoCircle","withdrawals","reduce","amount","length","Button","onClick","paymentDetails","map","detail","index","_detail$type","Card","toUpperCase","accountHolderName","accountNumber","ifscCode","isPreferred","upiId","Table","pagination","dataSource","Modal","visible","onOk","_isAuthenticated3","values","validateFields","userId","put","_res$data","onCancel","handleCancel","layout","Item","name","label","rules","required","Input","valuePropName","Checkbox"],"sourceRoot":""}