{"version":3,"file":"static/js/7139.c4b55bc3.chunk.js","mappings":"+IAEO,MAAMA,EAAgBC,IACzBC,EAAAA,GAAQC,QAAQ,CACZC,UAAW,cACXC,QAASJ,EACTK,SAAU,EACVC,MAAO,CAAEC,UAAW,SACtB,EAEOC,EAAcR,IACvBC,EAAAA,GAAQQ,MAAM,CACVN,UAAW,cACXC,QAASJ,EACTK,SAAU,EACVC,MAAO,CAAEC,UAAW,SACtB,C,oHCTN,MAkFA,EAlFkBG,KACd,MAAMC,GAASC,EAAAA,EAAAA,MA8Df,OACIC,EAAAA,EAAAA,KAAA,OAAKV,UAAU,sBAAqBW,UAChCC,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,QAAOW,SAAA,EAClBC,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,MAAKW,SAAA,EAChBD,EAAAA,EAAAA,KAAA,MAAAC,SAAI,kCACJC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,yDAECD,EAAAA,EAAAA,KAAA,QAAAC,SAAM,oCAGdC,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,UAASW,SAAA,EACpBD,EAAAA,EAAAA,KAAA,UAAQG,QAvEGC,UAAa,IAADC,EAAAC,EACnC,IAAIC,EAAAA,EAAAA,OAAsC,QAArBF,GAAIE,EAAAA,EAAAA,aAAiB,IAAAF,GAAjBA,EAAmBG,gBACxCb,EAAAA,EAAAA,IAAW,iFAEV,KAAIY,EAAAA,EAAAA,OAAuC,QAAlBD,GAACC,EAAAA,EAAAA,aAAiB,IAAAD,GAAjBA,EAAmBE,gBAoD9Cb,EAAAA,EAAAA,IAAW,iDApDmD,CAC9D,MAAMc,QAAYC,EAAAA,EAAMC,KAAK,GAADC,OAAIC,+BAAiC,+BAA+B,CAAEC,OAAQ,IAAM,CAC5GC,QAAS,CACLC,cAAe,UAAYC,aAAaC,QAAQ,YAErDC,OAAMC,IACLC,QAAQC,IAAIF,EAAI,KAEZG,GAAIC,GAAaf,EAAIgB,KAEvBC,EAAU,CACZC,IAAKd,0BACLC,OAAQ,KACRc,SAAU,MACVC,KAAM,yBACNC,YAAa,gBACbN,SAAUA,EACVO,QAAS3B,eAAgB4B,GACrB,IAAK,IAADC,EAAAC,EAAAC,QACMzB,EAAAA,EAAMC,KAAK,GAADC,OAAIC,+BAAiC,qBAAqB,CACtEuB,KAAuB,QAAnBH,GAAE1B,EAAAA,EAAAA,aAAiB,IAAA0B,OAAA,EAAjBA,EAAmBI,IACzBC,KAAM,QACNT,KAAuB,QAAnBK,GAAE3B,EAAAA,EAAAA,aAAiB,IAAA2B,OAAA,EAAjBA,EAAmBK,SACzBC,MAAwB,QAAnBL,GAAE5B,EAAAA,EAAAA,aAAiB,IAAA4B,OAAA,EAAjBA,EAAmBK,MAC1BC,kBAAmBT,EAASU,oBAC5B5B,OAAQ,IACT,CACCC,QAAS,CACLC,cAAe,UAAYC,aAAaC,QAAQ,YAErDyB,MAAKlC,IACqB,IAADmC,EAAL,MAAfnC,EAAIoC,SACJ3D,EAAAA,EAAAA,IAAauB,EAAIgB,KAAKqB,gBACtB7B,aAAa8B,QAAQ,OAAQC,KAAKC,UAAkB,QAATL,EAACnC,EAAIgB,YAAI,IAAAmB,OAAA,EAARA,EAAUR,OACtDtC,EAAO,iBAEPH,EAAAA,EAAAA,IAAWc,EAAIgB,KAAKyB,aACxB,GAER,CAAE,MAAOtD,GACLyB,QAAQzB,MAAMA,IACdD,EAAAA,EAAAA,IAAW,2BACf,CACJ,EACAwD,MAAO,CACHC,MAAO,YAIH,IAAIC,OAAOC,SAAS5B,GAC5B6B,MACR,CAEA,EAcgDtD,SAAC,cACrCD,EAAAA,EAAAA,KAAA,KAAAC,SAAG,2DAGR,C","sources":["Components/Messages/messages.js","Pages/BookTrial/BookTrial.js"],"sourcesContent":["import { message } from \"antd\";\n\nexport const SuccessAlert = (messages) => {\n    message.success({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n}\nexport const ErrorAlert = (messages) => {\n    message.error({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4,\n        style: { marginTop: '40px' }\n    });\n\n}\nexport const WarningAlert = (messages) => {\n    message.warning({\n        className: \"ant-message\",\n        content: messages,\n        duration: 4\n    });\n}","import React from 'react';\nimport \"./BookTrial.css\";\nimport { isAuthenticated } from '../../Components/Auth/auth';\nimport axios from 'axios';\nimport { ErrorAlert, SuccessAlert } from '../../Components/Messages/messages';\nimport { useNavigate } from 'react-router-dom';\n\nconst BookTrial = () => {\n    const router = useNavigate();\n\n    const handleTrialPayment = async () => {\n        if (isAuthenticated() && isAuthenticated()?.trialActivated) {\n            ErrorAlert(\"Trial can be activated once. You have already activated your free trial.\")\n        }\n        else if (isAuthenticated() && !isAuthenticated()?.trialActivated) {\n            const res = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/subscriptions/create-order`, { amount: 99 }, {\n                headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                }\n            }).catch(err => {\n                console.log(err);\n            })\n            const { id: order_id } = res.data;\n\n            const options = {\n                key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n                amount: 99 * 100,\n                currency: 'INR',\n                name: 'SpellEng Trial Payment',\n                description: 'Trial Payment',\n                order_id: order_id,\n                handler: async function (response) {\n                    try {\n                        await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/book-trial`, {\n                            user: isAuthenticated()?._id,\n                            plan: \"Trial\",\n                            name: isAuthenticated()?.fullName,\n                            email: isAuthenticated()?.email,\n                            razorpayPaymentId: response.razorpay_payment_id,\n                            amount: 99,\n                        }, {\n                            headers: {\n                                Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n                            }\n                        }).then(res => {\n                            if (res.status === 200) {\n                                SuccessAlert(res.data.successMessage);\n                                localStorage.setItem(\"user\", JSON.stringify(res.data?.user));\n                                router(\"/all-tutors\")\n                            } else {\n                                ErrorAlert(res.data.errorMessage);\n                            }\n                        })\n                    } catch (error) {\n                        console.error(error);\n                        ErrorAlert('Failed to activate Trial');\n                    }\n                },\n                theme: {\n                    color: '#F37254'\n                }\n            };\n\n            const rzp = new window.Razorpay(options);\n            rzp.open();\n        } else {\n            ErrorAlert(\"Please login first to activate your trial\")\n        }\n    };\n\n    return (\n        <div className=\"BookTrial container\">\n            <div className=\"inner\">\n                <div className=\"fee\">\n                    <h2>Book A Trial Class @ â‚¹1</h2>\n                    <p>\n                        You get a 30-minute trial class with an expert tutor,\n                        <span> feedback, and recording</span>\n                    </p>\n                </div>\n                <div className=\"bookBtn\">\n                    <button onClick={handleTrialPayment}>Book Now</button>\n                    <p>Trial Class can be done only once in an account</p>\n                </div>\n            </div>\n        </div >\n    );\n}\n\nexport default BookTrial;\n"],"names":["SuccessAlert","messages","message","success","className","content","duration","style","marginTop","ErrorAlert","error","BookTrial","router","useNavigate","_jsx","children","_jsxs","onClick","async","_isAuthenticated","_isAuthenticated2","isAuthenticated","trialActivated","res","axios","post","concat","process","amount","headers","Authorization","localStorage","getItem","catch","err","console","log","id","order_id","data","options","key","currency","name","description","handler","response","_isAuthenticated3","_isAuthenticated4","_isAuthenticated5","user","_id","plan","fullName","email","razorpayPaymentId","razorpay_payment_id","then","_res$data","status","successMessage","setItem","JSON","stringify","errorMessage","theme","color","window","Razorpay","open"],"sourceRoot":""}